\filestart

\section{Models}

\subsection{Preview}
This chapter might better be titled \quote{Examples in the wild}. In previous chapters, we have defined introspective theories and geminal categories. That is, we have axiomatized the theory of introspective theories and the theory of geminal categories. Now we look at some notable models of these axiomatic theories, which is to say, at some notable specific examples of introspective theories and of geminal categories. These examples are of a sort which might be considered to have been found \quote{in the wild}, instead of being freely syntactically constructed as the examples of the last chapter were.

There are two broad classes of models/examples of note in this chapter:

Firstly, there are those which are similar in flavor to the traditional instances of \Goedel/ian phenomena studied in logic. These are based on logical theories which have some internal ability to discuss themselves, such as Peano Arithmetic, or higher-order intuitionistic logic, or the like. Here, it has long been recognized that \Goedel/ian phenomena arise at the propositional level, but the full phenomenon of guarded recursion which we proved for introspective theories in \TODO in has not been noted in these contexts before.

The second class of models/examples we consider are more similar in flavor to the traditional interpretation of the modal logic GL in well-founded orders. Here, the existence of guarded recursion is straightforward, but it is the unification with our general theory which is of note. Among these models are examples like the topos of trees, the canonical model discussed in the literature on guarded recursion. We also demonstrate similar but distinct models which support an interpretation of Boolean provability logic, as opposed to the fundamentally intuitionistic logic of the topos of trees.

\subsection{Automatic consistency results without models as such}
We already know that the theory of geminal categories is an introspective theory. And because every introspective theory is itself a geminal category, we know that the theory of introspective theories only prove $\Box A$ if it furthermore proves $A$.

Finally, we know that every lexcategory can be equipped as a geminal category in a trivial way, by taking its internal geminal category to be trivially $1$, even when the outer lexcategory needn't be trivial. From this, we can conclude that the theory of introspective theories is nontrivial in the sense that it does not prove its internal geminal category to be trivial. Thus, it does not prove $\Box A$ for all $A$. Furthermore, combining this with the previous paragraph, we have the stronger consistency result that for every $n$, the theory of introspective theories does not prove $\Box^n A$ for all $A$.

In this way, simply by consideration of the freeness properties already established in the chapter on geminal categories, we already know the theory of introspective theories to have highly nontrivial content, even without needing to find any models of it \quote{in the wild}.

\TODOinline{Discuss more why the stronger consistency result is really the relevant thing to think about.}

\subsection{Models based on \texorpdfstring{$\Sigma_1$}{Sigma-1} or arbitrary extensions of PA, or ZFC, or etc}
\TODOinline{I will write this section in a sloppy way for now and then improve it later.}

This section reviews and builds upon the construction previously seen at \cref{SigmaModelSimple}.

\begin{construction}\label{Sigma1Model}

Consider a sigma-1 theory $\tau$ extending PA (or ZFC, or any such thing), in the sense of an extension whose axioms are computably enumerable. Actually, for now, let's just consider PA simpliciter.

\TODOinline{It probably isn't easy to pin down in a clean way exactly the minimal kind of system in which this goes through, but it could be useful to name some weak subsystems of arithmetic in which it goes through. In particular, we should not expect this to go through in Robinson's Arithmetic Q which lacks induction entirely, but we should expect it to still work in systems that just have induction for $\Sigma_1$ formulae).}

Consider the category $T$ whose objects are the sigma-1 formulas $\phi(n, m)$ in the language of PA which define binary relations on the natural numbers which PA proves to be partial equivalence relations (i.e., symmetric and transitive). Given any two such formulas $\phi(n, m)$ and $\psi(n, m)$, a morphism in $T$ from $\phi$ to $\psi$ is a sigma-1 formula $F(n, m)$ on the natural numbers which PA proves to correspond to the graph of a function between the subquotients of $\mathbb{N}$ corresponding to $\phi$ and to $\psi$, respectively. That is, such that PA proves the universal closures of the following:

$F(n, m) \implies \phi(n, n) \wedge \psi(m, m)$

$\phi(n_1, n_2) \wedge \psi(m_1, m_2) \wedge F(n_1, m_1) \implies F(n_2, m_2)$

$\phi(n, n) \implies \exists m [F(n, m)]$

$F(n, m_1) \wedge F(n, m_2) \implies \psi(m_1, m_2)$.

Two such formulas $F(n, m)$ and $F'(n, m)$ are considered to be equal as morphisms from $\phi$ to $\psi$ if PA proves them to be equivalent (that is, if PA proves $F(n, m) \implies F'(n, m)$ and $F'(n, m) \implies F(n, m)$).

Given morphisms $F : \phi \to \psi$ and $G: \psi \to \chi$ of this sort, we define their composition in the usual way of composing functions represented as graphs, as $(F \circ G)(n, m) = \exists p [G(n, p) \wedge F(p, m)]$.

This all describes the category $T$, which one can verify is indeed a category and moreso, a category with finite limits.

\TODOinline{Perhaps instead of imposing PERs from the beginning, we start only with the category of RE sets, and then take its ex/lex completion or some such thing. Like so:}

Consider the category $T'$ whose objects are the sigma-1 formulas $\phi(n)$ in the language of PA, and such that a morphism from $\phi(n)$ to $\psi(m)$ is a sigma-1 formula $F(n, m)$ such that $PA$ proves $\forall n, m . F(n, m) \implies (\phi(n) \wedge \psi(m))$ and $\forall n . \phi(n) \implies \exists! m . F(n, m)$. Two such morphisms $F(n, m)$ and $G(n, m)$ are considered equal just in case PA proves $\forall n, m . F(n, m) \biimplies G(n, m)$. Morphisms compose in the obvious way; that is, the composition of $F(n, p)$ with $G(p, m)$ is given by $(G \circ F)(n, m) = \exists p (F(n, p) \wedge G(p, m))$.

This category $T'$ is regular but not exact (that is, not every equivalence relation in $T'$ admits a corresponding quotient). Let $T$ be its ex/reg completion.

\TODOinline{Now, we describe the C inside T which is its internal copy, just by carrying out this exact same construction internal to T, and then we describe the indexed lexfunctor from T to C, which is a little more interesting or takes a little more care. Having this functor be indexed is where the sigma-1 restriction is important.}
\end{construction}

\TODOinline{Observe that we have somewhat distinct concepts of "T = PA Sigma-1, C = ZFC Sigma-1" vs "T = ZFC Sigma-1, C = ZFC Sigma-1", say. Also observe that as concerns ZFC, we can also consider for $C$ not just categories of definable subsets of naturals, but also of definable sets in general, or of definable classes.}

\subsection{Finitely axiomatizable lex theories}
A concept that will often be useful to us in the following.

\begin{definition}
A \defined{finitely axiomatizable lex theory} is a lexcategory $W$ which, qua lexcategory, can be generated in finitely many steps of the following form, starting from the initial lexcategory: free augmentation with an object, free augmentation with a morphism between existing objects, or freely making two existing parallel morphisms equal. In other words, it can be presented by a finite lex \quote{sketch}.
\end{definition}

If $W$ is a finitely axiomatizable lex theory, and $C$ is an internal lexcategory within a lexcategory $T$, then the set of lexfunctors from $W$ to $C$ is $T$-\repsmall/. This can be seen readily from the inductive definition of finite axiomatizability: 

\begin{TODOblock}
Discuss the concept of a lexcategory having initial internal models of ALL finitely axiomatizable lex theories.

As a bit of trivia, observe how this follows simply from having an internal free locally cartesian closed category on one object (verify the details on this; or perhaps from having internal free lex categories and the ability to freely augment internal lex categories with a new cell). Regardless of whether those details work out, conjecture that there are finitely many finitely axiomatizable lex theories such that having internal initial models of those implies having internal initial models of all finitely axiomatizable lex theories, so that the latter is itself a finitely axiomatizable condition.

Relate this also to the concept of arithmetic universes. Conjecturally, being an arithmetic universe is equivalent to something like having free internal models for sketches indexed by finite unions of internal objects (but there seems to be some hesitance in the literature to claim this? Understand that better). At any rate, an arithmetic universe should have internal initial models of all finitely axiomatizable lex theories.

This section basically only exists in order to claim that finitely axiomatizable lex theories which extend the theory of arithmetic universes are automatically examples of the next section.
\end{TODOblock}

\subsection{Theories with initial internal models of themselves}

\subsubsection{The initial model as a geminal category}
\begin{construction}\label{InitoGeminalYieldsGeminal}
Fix some lex theory $T$ extending the theory of strict lexcategories, whose models we shall call \quote{gadgets}. Now suppose the initial gadget $G$ (in $\Set$) contains an initial internal gadget $G'$ (in the sense that $G'$ is a gadget internal to the underlying lexcategory $|G|$ of $G$, and for any other gadget $H$ internal to $|G|$, there is a unique $|G|$-internal gadget homomorphism from $G'$ to $H$). For sake of a name for this concept, call such a theory \defined{\initogeminal/}.

\TODOinline{See note at \magicref{ModelTerminology} on the inaptness of this "internal" terminology. Clean it up.}

(With most \initogeminal/ theories of interest, it is furthermore the case that EVERY model of the theory has an internal initial model of the theory, and every homomorphism preserves this internal initial model. That is, with most \initogeminal/ theories of interest, the initial model's internal initial model is obtained not just accidentally because of some paucity of other globally defined structures, but intrinsically by virtue of the algebraic laws encoded in the theory. But we do not actually need this property for the following construction.)

Because $G$ is initial, we automatically get a unique gadget-homomorphism $\introN_{G}$ from $G$ to $\Hom_{|G|}(1, G')$ as well. And because $G'$ is an initial $|G|$-internal gadget, we automatically get a unique $|G|$-internal homomorphism $\introN_{G'}$ from $G'$ to $\Hom_{|G'|}(1, G'')$ where $G'' = \introN_{G}[G']$.

This setup is thus a geminal gadget (with axioms 3 and 3' of a geminal gadget automatically satisfied by the uniqueness observations in the previous paragraph).

Indeed, this is the unique way to equip $G$ as a geminal gadget with internal gadget $G'$.

In summary, we have shown how the initial model of any \initogeminal/ theory can naturally be equipped as a geminal model of that same theory.
\end{construction}

\begin{TODOblock}
When the inito-geminal theory T is such that furthermore Set is a model of T, and we have the strong property noted above that EVERY homomorphism out of the initial model of T preserves its interior initial model's initiality, then we furthermore get a soundness result here: The map from the initial model M of T (the one defined by global elements in the lexcategory corresponding to T) to Set takes M's interior initial model of T to the actual M in Set, and so on.

Thus, we get a homomorphism from the globalization of M's interior initial model of T to the actual M. Since M is initial, this homomorphism onto it is a retraction. Thus, the map from M into the globalization of its internal model has a left inverse.

Note the following two caveats:

1. This composition needn't be identity in the other order.

Proof: Let p be a proposition which is independent from PA, and consider a term t such as "3 if p is true, 5 if p is false", well-defined classically. The map from M' to M to M' will take the term t living in M' to its interpretation as an actual particular number (either 3 or 5) and then to that actual particular number as a canonical term (either "3" or "5"), but that canonical term will not be equal to the original term since t is neither provably equal to 3 nor provably equal to 5.

2. If Set is not a model of T to begin with, there needn't even be a homomorphism from M's internal model to M in the first place.

Proof: Let T be a theory corresponding to PA + ~Con(PA) or the like. Then the initial model M of T is nontrivial, i.e. doesn't prove 1 = 0 (since PA + ~Con(PA) is consistent, since PA doesn't prove Con(PA), by G2IT). However, M's internal initial model of T is trivial, i.e. proves 1 = 0 (since T proves ~Con(PA) which in turn entails ~Con(T)). We cannot have a homomorphism from the latter to the former.
\end{TODOblock}

This construction immediately gives us many nontrivial examples of geminal categories. For example, many theories $T$ simultaneously satisfy the following two properties:

A) $T$ is a finitely axiomatizable lex theory extending the theory of lex categories.

B) Every model of $T$ contains initial internal models of every finitely axiomatizable lex theory.

Any such $T$ will of course be \initogeminal/.

For example, consider the theory of strict elementary toposes with natural numbers objects (let us call this an \defined{NNO-topos}, to make it less of a mouthful). This is indeed a finitely axiomatizable lex theory extending the theory of lexcategories \TODOinline{Maybe make up a name for lex theories extending the theory of lexcategories, since we use them often, need them to define our concept of truly internal models, etc}. Furthermore, it satisfies the property B just noted:

\begin{theorem}\label{NNOToposIsInitoGeminal}
Every NNO-topos has an initial internal model of every finitely axiomatizable lex theory. Such initial internal models are furthermore preserved by functors preserving NNO-topos structure.
\end{theorem}
\begin{proof}
This is simply by carrying out in its internal logic the ordinary mathematical construction establishing the existence of initial models of finitely axiomatizable lex theories. We do not give here a detailed proof, but sketch the key ideas:

We need to construct, internally to an arbitrary NNO-topos, the set of well-founded finitely branching labelled rooted trees corresponding to the term model (the labels on the nodes of the tree corresponding to the operators which build new terms or new equations from old ones in the algebraic theory). Once we have constructed these, we use effective regularity to quotient the trees corresponding to definable terms by the equivalence relation induced by trees corresponding to derivable equations. All difficulty is just in first constructing this object of well-founded labelled trees (a so-called W-type).

We first of all take a finite coproduct of $1$s to serve as the object of labels. This suffices as we only need finitely many labels for a finitely axiomatizable theory.

Next, we note that we can define the set of lists of $X$es in suitable fashion. For example, we can define lists of $X$es as suitable partial functions with domain $\nat$ and codomain $X$ (returning the $n$th element of a given list). This definition can then be interpreted in NNO-toposes using cartesian closure and subobject comprehension.

Finally, we can define the sets of arbitrary or well-founded countably branching trees similarly, as, e.g., suitable partial functions with domain the set of lists of naturals and codomain the set of labels (returning the label found by traversing a given sequence of branch indices down from the root). We can express within the internal logic of topos theory the conditions corresponding to being a well-founded tree formed by appropriate applications of the constructors of our algebraic theory (by a suitable quantification over the power object). We can thus take the appropriate subobject of the set of all such partial functions, to get the set of well-formed labelled trees we are interested in.

Finally, the well-foundedness of these trees lets us prove inductively the existence of partial functions satisfying any particular recursion conditions with any particular tree in their domain, and lets us prove that any two such partial functions agree wherever both are defined. An impredicative union of all such partial functions then yields a unique total function defined by such recursion. This gives us the unique homomorphisms from the term model to other internal models, establishing the term model as the initial internal model.

This is one simple approach available to us for constructing initial models in an NNO-topos. Other approaches are possible as well.

\TODOinline{Make further observation about k-ary theories, when we have k-ary coproducts. Note that it is key here how the theory actually recognizes internally anything which is externally a model of such an infinitary theory, as we can construct any external function on domain k as an internal map. Once we've noted the version of this for arbitrary k, we can invoke it later on when we wish to make any initial model in actual Set of an infinitary sort.}
\end{proof}

From \magicref{NNOToposIsInitoGeminal} and the finite axiomatizability of the theory of NNO-toposes, we have that in particular, the initial NNO-topos has an initial internal NNO-topos. That is to say, the theory of NNO-toposes is \initogeminal/. Thus, by \magicref{InitoGeminalYieldsGeminal}, the initial NNO-topos is equipped as a geminal NNO-topos (a fortiori, a geminal category).

\begin{warningenv}\label{InitoGeminalWarning}
It is important to observe that the initial NNO-topos is NOT an introspective theory! Using the name $G$ for the initial NNO-topos and $G'$ for its internal initial NNO-topos, we should not expect to have natural maps in $G$ from $t$ to $\Hom_{G'}(1, \introS(t)))$ (i.e., $\Box t$) for general $t$, as the $\introN$ of an introspective theory would provide. For example, we will not have notable maps of type $\Omega \to \Box \Omega$ or $\nat^{\nat} \to \Box(\nat^{\nat})$ (the presence of such a map would express the absurd logical assertion that every function from naturals to naturals (every such function at all) induces some corresponding definable morphism in the initial NNO-topos.). We have merely equipped it as a geminal category. We will in some cases have canonical such requoting maps (e.g., a map $: \nat \to \Box \nat$ will be available by initial algebra properties of $\nat$), but not in general.

So the construction in \magicref{InitoGeminalYieldsGeminal} does not give us new introspective theories. Rather, it takes the introspective theory of geminal gadgets (which we already constructed in \TODO) and constructs a model of it, for suitable notions of \quote{gadget}.
\end{warningenv}

Having established that NNO-toposes have initial internal models of all finitely axiomatizable theories, it follows that any finitely axiomatizable theory extending the theory of NNO-toposes is \initogeminal/.

Due to work by Maietti et al following in the footsteps of Joyal (\TODOinline{cite}), it is also known that any arithmetic universe contains an internal initial model of any finitely axiomatizable theory.

Thus, also, the theory of arithmetic universes is \initogeminal/, and thus the initial arithmetic universe can be equipped as a geminal arithmetic universe (a fortiori, a geminal category). Thus, we get \Godel/'s incompleteness results manifesting within the initial arithmetic universe. This is the structure discussed by Joyal in unpublished work on a category-theoretic account of \Godel/'s incompleteness theorem, and further discussed by others after Joyal (see in particular \autocite{van2020g}).

The fact that every NNO-topos contains an initial model of every finitely axiomatizable lex theory can of course be taken as a special case of the fact that every arithmetic universe has the same property, since NNO-toposes are straightforawrdly arithmetic universes. But the construction of initial internal models in an NNO-topos can also be carried out by much easier means than are available in an arbitrary arithmetic universe; e.g., as in the proof sketch we gave at \magicref{NNOToposIsInitoGeminal}, which made essential use of cartesian closure, quantification over power objects, and the like.

Of course, we could directly consider the theory of a lexcategory with an initial internal model for every finitely axiomatizable theory. This would be interno-geminal... if it were finitely axiomatizable. In the form we just stated this theory, it was axiomatized infinitely (there is a separate imposed basic constructor for every particular finitely axiomatizable theory). It is an open question to this author whether this theory admits some alternative finite selection of basic constructors allowing it to be finitely axiomatized.

\TODOinline{Still, stress that finite axiomatizability isn't the key thing. We have after all the theory of a topos with countable coproducts as a \initogeminal/ theory}.

It is a similarly open question whether there is an initial \initogeminal/ theory (in either the sense without or with the parenthetical condition noted at \magicref{InitoGeminalYieldsGeminal}). The theory of \initogeminal/ theories is not known to be equivalent to any lex theory (the condition for $T$ to be \initogeminal/ involves a higher-order quantification over all endolexfunctors of $T$), so we do not automatically have the existence of an initial such structure.

Just as with \magicref{InitoGeminalWarning}, we should remark that again, as of yet, we have only equipped the initial arithmetic universe as a geminal category, not an introspective theory. But it will turn out that, unlike the typical situation for a \initogeminal/ theory as with the initial NNO-topos, the theory of arithmetic universes is so special that we can in fact further equip it in a natural way as an introspective theory! We shall come back to this at the end of the next section, after developing some more tooling for constructing more sophisticated introspective theories from \initogeminal/ theories in general.

\TODOinline{Reorganize order of paragraphs here for clarity. Discuss toposes with k-ary coproducts as mentioned above.}

\TODOinline{Note that we have a soundness result for the geminal categories we get from the initial NNO-topos, the initial arithmetic universe, etc: Their internal views of the initial such-and-such do in fact match themselves; the uniquely determined structure-preserving (AU-preserving or NNO-topos-preserving) functor from these things to Set takes their internal initial such-and-such to themselves. We don't have this kind of soundness for all \initogeminal/ theories. For example, we might consider the theory of bloposes, where a blopos is an NNO topos in which the internal initial NNO topos is trivially 1. That is, a blopos is a topos that thinks the theory of toposes is inconsistent. Then the theory of bloposes incorrectly proves that the theory of bloposes is inconsistent, so the initial blopos is nontrivial, but its internal initial blopos is trivial. The key thing that makes bloposes different from toposes is that Set is itself a topos (and an AU and so on), but not a blopos. Our soundness result is only for those theories which Set itself models.}

\subsubsection{The theory of initial models as an introspective theory}

Let $T$ be a lexcategory. Let us say an object $f : T \to S$ of the slice 2-category $T/\LexCat$ is a $T$-initializer if $f$ is initial within $\LexCat(T, S)$. Let us say the 2-category of $T$-initializers is $T/\LexCat$ restricted to just having the $T$-initializers as objects. (N.B. In this slice 2-category, we take the 1-cells to be triangles which commute up to invertible 2-cells, not up to lax 2-cells)

\begin{theorem}
For every (\setsmall/) lexcategory $T$, there is an initial object within the 2-category of $T$-initializers.
\end{theorem}
\begin{proof}
This is by some general initial object of small algebraish theories theorem  we should establish somewhere, that we will be using over and over. \TODO
\end{proof}

\begin{theorem}
If $f : T \to S$ is the initial $T$-initializer, then for any other $T$-initializer $g : T \to U$, we get that $!$ is initial within $\LexCat(S, U)$, where $!$ is the lexfunctor from $S$ to $U$ given by $f$ being the initial $T$-initializer.
\end{theorem}
\begin{proof}
\TODO (By our Comma-Kan lemma \magicref{CommaKan}, with $X$ and $Y$ as $S$, with $\omega$ as $U$, with $f_X$ as $!$ and $f_Y$ is an arbitrary lexfunctor, with $A$ as the initial lexcategory and $B$ as $T$, we get that $(!/f_Y)$ has an initial lexfunctor into it from $T$, and this is preserved by the projections out of the comma category. There is therefore a unique lexfunctor from $S$ to $(!/f_Y)$ preserving initiality of the maps from $T$. Following this up with the projections also preserves that initiality, so this unique lexfunctor from $S$ to $(!/f_Y)$ has both projections yielding identity; any other lexfunctor from $S$ to $(!/f_Y)$ with both projections yielding identity also has to be equal to this one. This gives us a unique natural transformation of the sort we have in mind. \TODOinline{Check this, clean this up}
\end{proof}

Therefore, the identity endolexfunctor on the initial $T$-initializer is initial among its endolexfunctors. \TODOinline{In the language of the following todo note, this is sigma1esque}. In this way, we get an introspective theory on the initial $T$-initializer once it also has a lexfunctor in the globalization of some internal category in $T$ (or, for that matter, in itself...).

\TODOinline{The initial arithmetic universe actually IS an introspective theory, via reasoning about Freyd covers that does not generalize to other examples of this section's phenomena. Discuss this further. This introspective theory extends the geminal arithmetic universe of the previous construction with a suitable natural transformation; furthermore, as its internalization functor preserves AU structure and thus takes its internal initial AU to ITS internal initial AU, the internal geminal AU in this introspective theory is also the internalization of the previous geminal gadget construction. This last part generalizes to any geminal gadget constructed in the previous way: Its internal geminal gadget will also have been constructed by the internalization of the previous construction.}

\begin{TODOblock}
Extend the above discussion of initiality to discuss corresponding introspective theories, beyond just the discussion of geminality. Although, e.g., the initial NNO-topos is not itself an introspective theory, there is nonetheless a corresponding introspective theory of note capturing the initiality properties. Furthermore, even any lex theory that does not automatically come with internal initial models of itself can be freely bumped up to do so, in a suitable sense, and we get a corresponding introspective theory as well.

Specifically, let us say a theory is sigma1esque if the identity lex endofunctor on it is initial with respect to all lex endofunctors on it. (Do we need full initiality? Perhaps weak initiality is all we care about.) Any lex theory $T$ has a free sigma1esque extension, in the sense of a sigma1esque lex theory $T'$ under $T$ with a unique map into any other sigma1esque lex theory under $T$. This $T'$ also comes with a unique map into the global points of any internal initial model of $T$ in any lex category.

If every model of $T$ has an internal initial model of $T$ (as would be the case if the generic model of $T$ has such an internal initial model AND $T$ is given by a finite lex sketch, so that this property is capturable by a lex statement), then the theory $T'$ also contains an internal initial model of $T$, and thus this theory $T'$ comes with a lexfunctor $\introS$ into that internal initial model of $T$. Furthermore, because $T'$ is sigma1esque, it then comes with a natural transformation $\introN$ from its identity functor to the global sections of that $\introS$. This equips said $T'$ as an introspective theory. And, as noted, this $T'$ is modelled by any initial model of $T$ internal to any category.

Thus, for example, if $T$ is the theory of elementary toposes with NNO, we obtain some introspective theory $T'$ extending $T$ which has the initial elementary topos with NNO as a model.
\end{TODOblock}

\begin{TODOblock}
The initial arithmetic universe $U$ probably satisfies a property slightly stronger than being sigma1esque. Given any lex functor $F$ from $U$ to other arithmetic universe $V$, it should be the case that there is a unique natural transformation from $!_V$ to $F$, where $!_V$ is the unique AU functor from $U$ to $V$. This is because the comma category $(!_V / f)$ is an arithmetic universe and its projection to $U$ along both coordinates are AU maps (\TODO. The first half is Artin gluing same as for toposes, I believe. That the projection in the second coordinate is also an AU map is different than from toposes, though, on which the projection is not a logical functor). Those projections (following the unique AU map from U into the comma category) are both identity, therefore (as they are AU maps from U to U), and thus by the universal property of comma objects our unique AU map from $U$ into the comma category provides a natural transformation from $!_V$ to $f$.

We now know that we have at least one such functor (the unique AU map from $A$ to $(A/f)$). But how do we see uniqueness (qua functor, not uniqueness qua AU map)? Perhaps a more careful analysis of the gluing construction will tell us that a functor into the comma category is an AU map just in case both its projections are? That is, the forgetful functor from the comma category to the product category creates (i.e., preserves AND reflects) AU structure. [Is this what we want? Is creating structure the same as saying that the forgetful functor composed with any other functor preserves and reflects the property of AU-structure-preservingness in the other functor? Yes, I think so.] This should be relatively straightforward to show for limits and colimits, by general comma category properties, and then also for list objects. \TODO
\end{TODOblock}

\subsection{Models based on well-founded posets or semicategories}
There are two flavors of models here: Those which give introspective theories (these come from well-founded trees using a certain size restriction; e.g., considering a model based on the von Neumann universe/cumulative hierarchy), and those which give only locally introspective theories with \Loeb/'s theorem fixed points (these come from arbitrary well-founded trees; these are related to the models used in guarded recursion theory, but our distinction between the roles of $T$ and $C$ has previously gone unnoticed and allows us to interpret these models as not proving $\lnot \lnot \Box 0$). We discuss the latter construction first, as it is simpler, and a step en route to grasping the former construction.

Previous iterations of this document at this point gave an overly complicated as a way of describing something simple (though still good to understand):

First of all, let $Disc$ be an arbitrary (set-sized) category. This gives rise also to the category $\Psh{Disc}$ of presheaves on $Disc$, which is automatically a lexcategory, and indeed locally cartesian closed. By the observation of \cref{TrivialPreIntrosp}, this yields a locally introspective theory $\langle \Psh{Disc}, \Psh{Disc}/-, \id \rangle$.

Now, let $f : Disc \to Struct$ be an arbitrary functor from $Disc$ into an arbitrary (also set-sized) category $Struct$. This induces by composition a functor $f^* : \Psh{Struct} \to \Psh{Disc}$. This $f^*$ preserves pullbacks (as pullbacks are computed pointwise in presheaf categories. Indeed, $f^*$ furthermore preserves all limits, as it has a left adjoint given by left Kan extension). This $f^*$ also has a right adjoint (given by right Kan extension).

\TODOinline{The above tells us that any geometric morphism between locally cartesian closed categories induces in the same way a locally introspective theory.}

By now using \cref{IntrospPullback} with our functor $f^*$ as applied to our first locally introspective theory $\langle \Psh{Disc}, \Psh{Disc}/-, \id \rangle$, we get a second locally introspective theory $\langle \Psh{Struct}, \Psh{Disc}/- \circ f^*, \ldots \rangle$.

This is ALMOST the locally introspective theory we are interested in for Kripke semantics. But it needs to be massaged a bit more, in a manner requiring some further assumptions. \TODOinline{Note that if we stop right here, we get a natural notion of model corresponding to S4 Kripke frames.}

First, a lemmatic construction. Suppose given any arbitrary profunctor $H : X \profuncTo Y$. This $H$ induces by profunctor composition (with profunctors $:1 \profuncTo X$, which correspond to presheaves on $X$) correspondingly an ordinary functor $H \circ - : \Psh{X} \to \Psh{Y}$. Note that this functor $H \circ -$ has a right adjoint (right Kan lift of a profunctor along a profunctor).

(Alternatively, we can think of the above like so: Given (set-sized) categories $X$ and $Y$ and any arbitrary functor $H : X \to \Psh{Y}$, this extends uniquely to a (set-sized-)colimit preserving functor $: \Psh{X} \to \Psh{Y}$, as $\Psh{X}$ is the free cocompletion of $X$ (with respect to set sized colimits). This functor is the one we call $H \circ -$, and by the Special Adjoint Functor Theorem, it will have a right adjoint.)

\TODOinline{Wherever above I put a set-sized constraint on a category, it sounds like I am constraining the category to not be too large. But really what this amounts to is to say that the corresponding presheaf category we are considering must not be too small: they must include presheaves of sufficiently high cardinality relative to the original category.}

If given two such $H_1, H_2$ and a transformation $n : H_1 \to H_2$, this extends also to a transformation $n \circ -$ from $H_1 \circ -$ to $H_2 \circ -$ as ordinary functors $: \Psh{X} \to \Psh{Y}$.

Let us now suppose that $Struct$ (from before) is in fact the free category adding identities to some semicategory $Struct^-$. Then we have a bifunctor $\Hom_{Struct^-} : \op{Struct} \times Struct \to \Set$, as the morphisms of $Struct^-$ are not only closed under composition with each other, but also (trivially) under composition with identities on either side, and thus closed under composition on either side with the morphisms of $Struct$. 

This bifunctor $\Hom_{Struct^-} : \op{Struct} \times Struct \to \Set$ comes with an inclusion transformation to the bifunctor $\Hom_{Struct} : \op{Struct} \times Struct \to \Set$. These bifunctors can both be read as profunctors from Struct to Struct; the latter is in fact the identity bifunctor on Struct, and the former is what we will take to be our $H$ as above. The inclusion transformation thus will become an inclusion transformation $i$ from $H \circ -$ to identity as functors $: \Psh{Struct} \to \Psh{Struct}$.

These comprised the last ingredients we needed for proper Kripke semantics for irreflexive frames. Remember, we already had a locally introspective theory $\langle \Psh{Struct}, \Psh{Disc}/- \circ f^*\rangle$ from above. Let us call this $\langle \Psh{Struct}, C \rangle$ for convenience. We now modify it like so using: \cref{IntrospInternalMap}.

% https://q.uiver.app/?q=WzAsMyxbMCwwLCJcXG9we1xcUHNoe1N0cnVjdH19Il0sWzIsMCwiXFxMZXhDYXQiXSxbMSwyLCJcXG9we1xcUHNoe1N0cnVjdH19Il0sWzAsMSwiXFxQc2h7U3RydWN0fS8tIiwwLHsib2Zmc2V0IjotMn1dLFswLDEsIkMiLDIseyJvZmZzZXQiOjJ9XSxbMCwyLCJIIFxcY2lyYyAtIiwyXSxbMiwxLCJDIiwyXSxbMyw0LCIiLDAseyJzaG9ydGVuIjp7InNvdXJjZSI6MjAsInRhcmdldCI6MjB9fV0sWzQsMiwiQyBcXG9we2l9IiwxLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwfX1dXQ==
\[\begin{tikzcd}
	{\op{\Psh{Struct}}} && \LexCat \\
	\\
	& {\op{\Psh{Struct}}}
	\arrow[""{name=0, anchor=center, inner sep=0}, "{\Psh{Struct}/-}", shift left=2, from=1-1, to=1-3]
	\arrow[""{name=1, anchor=center, inner sep=0}, "C"', shift right=2, from=1-1, to=1-3]
	\arrow["{H \circ -}"', from=1-1, to=3-2]
	\arrow["C"', from=3-2, to=1-3]
	\arrow[shorten <=1pt, shorten >=1pt, Rightarrow, from=0, to=1]
	\arrow["{C \op{i}}"{description}, shorten <=7pt, Rightarrow, from=1, to=3-2]
\end{tikzcd}\]

Keeping in mind that $H \circ - : \Psh{Struct} \to \Psh{Struct}$ has a right adjoint, we may conclude that the result is a locally introspective theory. When we start off taking $Struct^-$ to be a Kripke frame presumed transitive but not reflexive, taking Disc to be the discrete category on the same objects as Struct-, and $f : Disc \to Struct$ to be the inclusion, then the result of the above process is the introspective theory which corresponds to Kripke semantics on $Struct^-$. \TODOinline{Write out in more detail what the construction comes down to and thus showing how it corresponds to traditional Kripke semantics.}

The result will be locally Loeb when the order on the objects of Struct- given by its morphisms is a converse well-founded order. \TODOinline{Expand on this}. We can then impose a suitable size constraint to get it to be fully introspective.

\begin{TODOblock}
Clarify the size constraint. Note that it is very common in mathematics to take the relative point of view on Set, in terms of Grothendieck universes or the like, so as to consider the topos $Set^K$ as built up from a bunch of full subtoposes defined by a global cardinality constraint: those presheaves whose cardinality at each object is constrained by an upper bound, and this upper bound is the same at each object. But there is no reason we must only consider such constant upper bounds. We can just as well consider all kinds of varying upper bounds. And by allowing the the upper bounds to vary in the appropriate way, growing sufficiently fast, we get that $Set^K$ is built up from a bunch of full subtoposes which are all introspective theories. It is like a shift of frame of reference, to allow the upper bounds to vary with suitable \quote{slope} instead of having to be constant. But it serves all the same purposes as the very standard move in mathematics, of taking a relative point of view on Set.

Note that while typical categorical arguments work within structural set theory, the above can be done most readily within a material set theory. Furthermore, while typical categorical arguments work within the internal logic of toposes with NNO or some such thing, the above requires us to move beyond this, and is done most readily using the Axiom of Replacement. Thus, ZF or IZF or the like. Specifically, take Set to be a material set theory and a strict lexcategory, and take a cardinality constraint at a node to be a set of sets (corresponding to a full subcategory of Set) satisfying the condition that this full subcategory is closed under finite limits. Then we furthermore impose the condition that the full subcategory at node X contains the small category of all discrete presheaves on < X and all natural transformations between them. Using transfinite induction, we can easily define a function from nodes to sets that has this property.

The reason we must use the Axiom of Replacement is essentially because the initial algebra/transfinite recursion properties of well-founded sets within a mere topos $T$ are only with respect to endomorphisms of the subobject functor (which is representable, and thus such endomorphisms are themselves represented by endomorphisms on $\Omega$, living internally to the category), and not with respect to natural transformations of the self-indexing more generally (which is not representable, and thus its endomorphisms are not given by some internal data). Even simple natural transformations of the self-indexing such as the powerset operation on indexed sets may not admit corresponding catamorphisms defined by induction (e.g., there is in general no slice above the natural numbers in which the fiber of n + 1 is the powerset of the fiber of n).
\end{TODOblock}

\begin{TODOblock}
The above results immediately imply that the theorems of modal logic which hold for all locally introspective theories are no stronger than those which hold for all transitive Kripke frames, and the theorems which hold for all introspective theories or the theorems which hold in all locally Loeb theories are no stronger than those which hold for all transitive converse well-founded Kripke frames. From this, we can readily conclude that the theorems which hold in all locally introspective theories are K4 and the theorems which hold in all introspective theories or the theorems which hold in all locally Loeb theories are GL. Does the last two of these coinciding help us embed every locally introspective theory into an introspective theory, in the same way as we did for the unconstrained vs constrained presheaf models of GL Kripke frames?
\end{TODOblock}

\TODOinline{LaTeXify the above better}

\begin{TODOblock}
Give topos of trees example as well. This is what happens when we take $f$ as the identity functor and $Struct = Disc$ as the free category on some semicategory (in particular, the semicategory of natural numbers with strict reverse ordering). Note that this is an example of an introspective theory in which the functor from the introspective theory to the global aspect of the geminal category is an equivalence of categories (probably an equivalence of geminal categories, even? Thus, what we were calling a GLS-category...). Our $\Box$ operator becomes, on this category, what Birkedal et al call the step operator. This has a left adjoint as well, what Birkedal et al call the constant set operator. It's likely that in general we have left adjoints for these models based on well-founded semicategories.

Actually, many of the things we cite to Birkedal are already anticipated in "Unifying Recursive and Co-recursive Definitions in Sheaf Categories" by Pietro Di Gianantonio Marino Miculan.
\end{TODOblock}

\subsection{Recap}
\TODO

\fileend