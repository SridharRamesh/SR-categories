\filestart

\section{Examples in the wild}

\subsection{Preview}
In previous chapters, we have defined introspective theories and geminal categories. That is, we have axiomatized the theory of introspective theories and the theory of geminal categories. Now we look at some notable models of these axiomatic theories, which is to say, at some notable specific examples of introspective theories and of geminal categories. These examples are of a sort which might be considered to have been found \quote{in the wild}, instead of being freely syntactically constructed as the examples of the last chapter were.

There are two broad classes of models/examples of note in this chapter:

Firstly, there are those which are similar in flavor to the traditional instances of \Goedel/ian phenomena studied in logic. These are based on logical theories which have some internal ability to discuss themselves, such as Peano Arithmetic, or higher-order intuitionistic logic, or the like. Here, it has long been recognized that \Goedel/ian phenomena arise at the propositional level, but the full phenomenon of guarded recursion which we proved for introspective theories in \TODO in has not been noted in these contexts before. We also give an example of a model of this sort which goes well beyond computability or even countability, thus beyond many traditional approaches to presenting the \Goedel/ian phenomena in logic.

The second class of models/examples we consider are more similar in flavor to the traditional interpretation of the modal logic GL in well-founded orders. Here, the existence of guarded recursion is straightforward, but it is the unification with our general theory which is of note. Among these models are examples like the topos of trees, the canonical model discussed in the literature on guarded recursion. We also demonstrate similar but distinct models which support an interpretation of Boolean provability logic, as opposed to the fundamentally intuitionistic logic of the topos of trees.

\subsection{The main initiality-based construction}
\begin{construction}\label{SpecialInitialIntrosp}
Let $Special$ be a left comma-stable sub-2-category of $\LexCat$, in the sense of \magicref{CommaStableDefn}. Furthermore, suppose $Special$ has an initial object $T$, and that this $T$ has an internal lexcategory $C$ such that $\Glob{C}$ is itself an object of $Special$.

Then we obtain a unique lexfunctor $\introS \in Special(T, \Glob{C})$, by the initiality of $T$.

Furthermore, by \magicref{CommaKanStrongSigmesque}, we have that $\id_T$ is initial within $\LexCat(T, T)$. Thus, in particular, there is a unique natural transformation $\introN : \id_T \to \Hom_C(1, \introS(-))$. In this way, we obtain an introspective theory $\langle T, C, \introS, \introN \rangle$.
\end{construction}

\begin{theorem}\label{SpecialInitialIntrospIsInitial}
Let $Special$ and $\langle T, C, \introS, \introN \rangle$ be given as in \magicref{SpecialInitialIntrosp} above.

Consider also any other introspective theory $\langle T', C', \introS', \introN' \rangle$ such that $\introS' : T' \to \Glob{C'}$ lives in $Special$. By the initiality of $T$ within $Special$, we get a unique special lexfunctor $H : T \to T'$. If this $H$ is such that $H[C] = C'$, then this $H$ is also an introspective theory homomorphism (in the sense of \TODOinline{cite}). The condition that $H$ interacts appropriately with $\introS$ and $\introS'$ is automatic by the initiality of $T$ within $Special$. Furthermore, the condition that $H$ interacts appropriately with $\introN$ and $\introN'$ is automatic by the fact that $H$ is initial within $\LexCat(T, T')$, thanks to \magicref{CommaKanStrongSigmesque}.
\end{theorem}

\subsection{Self-initializing and super-initializing theories}
\subsubsection{The initial model as a geminal category}
\begin{construction}\label{InitoGeminalYieldsGeminal}
Suppose given some lexcategory $Th$ (the theory of \quote{gadgets}), along with a lexcategory $C$ internal to $Th$ (the underlying lexcategory of a gadget).

Furthermore, suppose given an initial gadget $G_1$ with an initial internal gadget $G_2$. That is, suppose given some lexcategory $V$ such that $\LexCat(Th, V)$ has an initial object (our $G_1$) and such that $\LexCat(Th, \Glob{G_1[C]})$ has an initial object (our $G_2$).

Because $G_1$ is initial, we automatically get a unique homomorphism $F_1 : G_1 \to \Gamma{G_2}$. And because $G_2$ is an initial $G$-internal gadget, we automatically get a unique $G_1$-internal homomorphism $F_2 : G_2 \to \Gamma[G_3]$ where $G_3 = F_1[G_2]$.

This setup is thus a geminal gadget internal to $V$ (with the equations $E_1$ and $E_2$ of \magicref{CompactGeminalCatDefn} automatically satisfied by the uniqueness observations in the previous paragraph).

Indeed, this is the unique way to equip $\langle G_1, G_2 \rangle$ as a geminal gadget.
\end{construction}

In practice, when an initial gadget has an initial internal gadget like above, this is usually not just some accident (caused by a paucity of globally defined structures, say), but rather, is due to the theory of gadgets itself encoding the construction of an internal initial gadget:
\begin{definition}
Suppose, as above, given some lexcategory $Th$ (the theory of \quote{gadgets}), along with a lexcategory $C$ internal to $Th$ (the underlying lexcategory of a gadget).

If every gadget has an initial internal gadget, and every gadget homomorphism preserves these initial internal gadgets, then we say the theory of gadgets is \defined{self-initializing}.

In other words, $Th$ is self-initializing if $\LexCat(Th, \Glob{C})$ has an initial object, and this initiality is preserved by $\InducedHomo{f}{C}$ for every lexfunctor $f$ out of $Th$.
\end{definition}

The above all admits a generalization worth noting:

\begin{construction}\label{SuperInitoGeminalYieldsGeminal}
Suppose given some lexfunctor $i : Th \to Th'$, along with a lexcategory $C$ internal to $Th$. Call $Th$ the theory of \quote{gadgets}, and $Th'$ the theory of \quote{supergadgets}. Via $i$, every supergadget has an underlying gadget, and via $C$, every gadget has an underlying lexcategory.

Furthermore, suppose given an initial gadget $G_1$ with an initial internal supergadget $G_2$. That is, suppose given some lexcategory $V$ such that $\LexCat(Th, V)$ has an initial object (our $G_1$) and such that $\LexCat(Th', \Glob{G_1[C]})$ has an initial object (our $G_2$).

Because $G_1$ is initial, we automatically get a unique gadget homomorphism $F_1: G_1 \to \Gamma{G_2}$. And because $G_2$ is an initial $G_1$-internal supergadget, we automatically get a unique $G_1$-internal supergadget homomorphism $F_2 : G_2 \to \Gamma[G_3]$ where $G_3 = F_1[G_2]$.

This setup is thus a geminal gadget internal to $V$ (with the equations $E_1$ and $E_2$ of \magicref{CompactGeminalCatDefn} automatically satisfied by the uniqueness observations in the previous paragraph).

Indeed, this is the unique way to equip $\langle G_1, G_2 \rangle$ as a geminal gadget $\langle G_1, G_2; F_1, F_2 \rangle$ such that $F_2$ comes from a supergadget homomorphism.
\end{construction}

And again, in practice, when an initial gadget has an initial internal supergadget like above, this is usually not just some accident caused by a paucity of globally defined structures, but rather, is due to the theory of gadgets itself encoding the construction of an internal initial supergadget:

\begin{definition}
Suppose, as above, given some lexfunctor $i : Th \to Th'$, along with a lexcategory $C$ internal to $T$. We call $T$ the theory of \quote{gadgets}, and $Th'$ the theory of \quote{supergadgets}. Via $i$, every supergadget has an underlying gadget, and via $C$, every gadget has an underlying lexcategory.

If every gadget has an initial internal supergadget, and every gadget homomorphism preserves these initial internal supergadgets, then we say the theory of gadgets (or more precisely, the extension of the theory of gadgets by the theory of supergadgets) is \defined{super-initializing}.

In other words, this situation is super-initializing if $\LexCat(Th', \Glob{C})$ has an initial object, and this initiality is preserved by $\InducedHomo{f}{C}$ for every lexfunctor $f$ out of $Th$.

Note in this case that $Th'$ will itself be self-initializing, as every supergadget is a fortiori a gadget (thus having an initial internal supergadget), and every supergadget homomorphism is a fortiori a gadget homomorphism (thus preserving initial internal supergadgets).
\end{definition}

The self-initializing situation is of course the special case of the super-initializing situation where $Th' = Th$ and $i$ is the identity.

There are a number of self- and super-initializing theories in the wild, which thus immediately give us examples of geminal categories in the wild.

For example: It is straightforward to show that every NNO-topos has internal initial models of every finitely axiomatizable lex theory, preserved by every NNO-topos homomorphism \TODOinline{Cite in preliminaries}.

It is a little more difficult, but also possible to show that more generally, every arithmetic universe has internal initial models of every finitely axiomatizable lex theory, preserved by every arithmetic functor. \TODOinline{Cite in preliminaries}

Thus, any finitely axiomatizable extension of the theory of arithmetic universes is self-initializing. More generally, given any $Th$ extending the theory of arithmetic universes, and any finitely axiomatizable $Th'$ extending $Th$, the extension of $Th$ to $Th'$ is super-initializing. 

This immediately gives us many examples of geminal categories using the above construction. For example, as one random example among myriad, we can obtain a geminal category $\langle G_1, G_2 \rangle$ where $G_1$ is the initial cartesian closed arithmetic universe and $G_2$ is its internal initial NNO-topos satisfying the internal axiom of choice.

\TODOinline{Note that when a theory is super-initializing, then we have that in the geminal category $\gamma = \langle G_1 G_2; F_1, F_2 \rangle$, $G_3 = F_1[G_2]$ is also an initial supergadget internal to $G_2$, and $F_3 = F_1[F_2]$ is a supergadget homomorphism. Thus, $\InteriorGeminal{\gamma}$ is itself given by the same construction of a geminal category for the self-initializing theory of supergadgets.}

We have discussed all this just in the context of geminal categories, but this extends to give analogous constructions of introspective theories as well. We discuss these next.

\TODOinline{Maybe delete most of this section (except for the definitions of self- and super-initializing theories) and only give examples of introspective theories.}

\subsubsection{The theory of initial models as an introspective theory}
Throughout the following, we say say an initial object in a category of the form $\LexCat(T, S)$ is an initial model of $T$ internal to $S$. Given lexcategories $S$ and $S'$ both containing initial internal models of $T$, we say a lexfunctor from $S$ to $S'$ preserves initial models of $T$ if its composition with the initial model of $T$ in $S$ is the initial model of $T$ in $S'$.

By the 2-category $\initMod{T}$, we mean $\LexCat$ with its objects restricted to just those lexcategories with initial internal models of $T$, and its $1$-cells restricted to just those lexfunctors which preserve initial models of $T$. (The $2$-cells remain unchanged.)

\begin{theorem}\label{InitialModelWithInitialModel}
For every \setsmall/ lexcategory $Th$, there is an initial object within $\initMod{Th}$.
\end{theorem}
\begin{proof}
This is in exactly the same way that we have familiar constructions such as of the initial NNO-topos, the initial arithmetic universe, the initial lexcategory with countable products, etc.

In more detail, the category of strict lexcategories with internal initial models of $Th$, and strict lexfunctors strictly preserving these internal initial models, is the category of models of an infinitary quasi-equational theory (whose infinitary operations have arity bounded by a cardinal dependent on the size of $Th$), and thus has an initial object. This initial strict structure furthermore is initial in the non-strict context, because all the relevant operations (finite limits, initial models of $Th$) are given by universal properties, so that any functor out of the initial strict structure preserving these in a non-strict sense is canonically isomorphic to a functor preserving these strictly on the nose.
\end{proof}

\begin{construction}
If $Th$ is a self-initializing theory, then $\initMod{Th}$ is left comma-stable within $\LexCat$, via \magicref{InitialModelCommaStable}. Furthermore, it has an initial object $T$ via \magicref{InitialModelWithInitialModel}. This $T$ by definition has an initial internal model of $Th$; that is, there is an initial $f \in \LexCat(Th, T)$. Furthermore, since $T$ is self-initializing, it contains an internal category $C$ such that $\Glob{f[C]}$ itself is an object of $\initMod{Th}$.

We can thus invoke \magicref{SpecialInitialIntrosp} to obtain a unique introspective theory $\langle T, f[C], \introS, \introN \rangle$ where $\introS$ is a map in $\initMod{Th}$.
\end{construction}

There is an extension of the above construction to super-initializing theories. However, it is a bit trickier. The key issue is to construct, for a super-initializing lexfunctor $i : Th \to Th'$, a lexcategory which captures simultaneously the properties which are shared by initial models of $Th$ and by initial models of $Th'$. We sketch out the construction as follows:

\begin{construction}
Let $i : Th \to Th'$ be a lexfunctor, such that models of $Th$ are considered gadgets, models of $Th'$ are considered supergadgets, and via $i$ every supergadget is thought of as having an underlying gadget.

Given a lexcategory $L$, we will say that a $Th'$-initial model of $Th$ in $L$ is an internal gadget $\alpha$ in $L$, along with, for every internal supergadget $\beta$ in $L$, a chosen gadget homomorphism from $h_\beta : \alpha \to \beta$, such that furthermore, these chosen homomorphisms are closed under postcomposition with supergadget homomorphisms (that is, for any supergadget homomorphism $f : \beta \to \beta'$ in $L$, we have that $f \circ h_{\beta} = h_{\beta'}$, as gadget homomorphisms). \TODOinline{Illustrate this diagrammatically}. Note that this structure is NOT given by a universal property! There may be multiple non-equivalent ways to choose such structure within $L$.

We may define a 2-category $Special$ whose objects are lexcategories along with a choice of $Th'$-initial models of $Th$ in these lexcategories. The 1-cells of $Special$ will be lexfunctors which preserve these $Th'$-initial models of $Th$, in the sense of taking designated gadgets and homomorphisms to designated gadgets and homomorphisms. 2-cells between these are just ordinary natural transformations. There is an obvious 2-functor from this $Special$ to $\LexCat$.

This $Special$ has an initial object $A$. This $A$ contains a designated internal gadget $G$ with an underlying lexcategory $C$. Because of the super-initializing property of gadgets and supergadgets, within $\Glob{C}$, there is an internal initial supergadget. Thus $\Glob{C}$ can uniquely be equipped as an object of $Special$ such that the designated gadget in $\Glob{C}$ is its internal initial supergadget. And thus there is a unique lexfunctor $\introS : A \to \Glob{C}$ which takes $G$ to the initial supergadget $G'$ in $\Glob{C}$.

Finally, we shall show that there is a unique natural transformation $\introN : \id_A \to \Hom_C(1, \introS(-))$ such that action of this $\introN$ restricted to $G$ is a designated gadget homomorphism. The argument for this is completely analogous to \magicref{SpecialInitialIntrosp}, with appropriate modification for the fact that $Th'$-initial models of $Th$ are not given by a universal property and thus $Special$ is not merely a subcategory of $\LexCat$.

Specifically, we will consider the comma category $\comma{\id_A}{f_Y}$ where $f_Y = \Hom_A(1, \introS(-)) : A \to A$. Note that this $f_Y$, when applied to the designated gadget in $A$, yields the underlying gadget of a supergadget.

By a modification of \magicref{CommaKan}, we find a unique way to equip $\comma{\id_A}{f_Y}$ as having a $Th'$-initial model of $Th$ which is preserved by both projections, such that the induced homomorphism on $G$ is a designated homomorphism.

Then we may apply a modification of \magicref{CommaKanStrongSigmesque} to conclude that the identity on $A$ has a unique natural transformation into $f_Y$ whose induced action on $G$ is a designated homomorphism.

\TODOinline{Clean up this entire writeup. Or maybe scrap this theorem for the time being, since no one will care about it?}
\end{construction}

\subsubsection{A self-initializing theory with uncountable and uncomputable flavor}
\TODOinline{Consider the free topos with countable (co)products, which has an internal free topos with countable (co)products as well, with internal and external views coinciding on what things have or preserve countable coproducts.}

\TODOinline{Note that this contains true arithmetic, but is still subject to \Loeb/'s theorem and \Goedel/'s incompleteness theorems. Its just that its consistency sentence isn't expressible in first-order arithmetic or indeed by quantification over naturals.}

\sTODOinline{A self-initializing theory with countable but uncomputable flavor}

\subsection{The initial arithmetic universe}
\begin{construction}\label{IAUAsIntrospGeneral}
Let $\IAU$ be the initial arithmetic universe, and let $C$ be any arithmetic universe internal to $\IAU$. Then by the combination of \magicref{SpecialInitialIntrosp} and \magicref{CommaStableArithmetic}, we obtain an introspective theory $\langle \IAU, C, \introS, \introN \rangle$ in which $\introS : \IAU \to \Glob{C}$ is the unique such arithmetic functor, and the natural transformation $\introN : \id_T \to \Hom_C(1, \introS(-))$ is uniquely determined.
\end{construction}

\begin{observation}
Note that the above construction can be applied using ANY arithmetic universe internal to $\IAU$. One natural choice is where $C$ is taken to be the initial arithmetic universe internal to $IAU$ (which exists thanks to \TODOinline{cite from Preliminaries}). In this case, the natural transformation $\introN$ we obtain is the same as the one constructed in Lemma 5.15 of \autocite{van2020g}.
\end{observation}
\TODOinline{Note in this case also that $\introS : \IAU \to \Glob{\IAU'}$ is an equivalence, since the global sections functor on $\IAU$ is also the unique arithmetic functor to $\Set$ (as both are initial among lexfunctors), so that $\Glob{\IAU'} = \IAU$, which has the identity as its only endoarithmetic functor.}

Note that nothing was special about the initial arithmetic universe for \magicref{IAUAsIntrospGeneral}; it was just an invocation of our general construction \magicref{SpecialInitialIntrosp}. We could similarly construct introspective theories using initial objects of any kind of structure left comma-stable over $\LexCat$, given any structure of the same kind internal to the initial one. What's noteworthy about $\IAU$ is just that it happens to actually contain interesting internal structures (such as internal categories corresponding to Peano Arithmetic, to ZFC, to the initial internal arithmetic universe, etc), whereas the initial lexcategory, or initial regular category, or initial lexcategory with finite pullback-stable colimits, or such things, all have a paucity of interesting internal structures.

We now use \magicref{IAUAsIntrospGeneral} to give a fuller account of our original guiding example of an introspective theory based on traditional logical theories, from \magicref{SigmaModelComplex}.

\begin{theorem}
The introspective theory described in \magicref{SigmaModelComplex} is the maximal localization, in the sense of \magicref{LocalizeIntrosp}, of an introspective theory produced by \magicref{IAUAsIntrospGeneral}.
\end{theorem}
\begin{proof}
Recall the categories $\Zfin$ and $\ZfinSigma$ from \magicref{SigmaModelComplex}. Here, $\Zfin$ is an exact category whose objects and morphisms correspond to definable classes and graphs of functions between these in the theory ZF-Finite, with morphisms taken modulo provable equality in ZF-Finite. While $\ZfinSigma$ is the subcategory of $\Zfin$ where the definability conditions are further restricted to $\Sigma_1$-definability.

It is readily verified that $\Zfin$ is an arithmetic universe. Thus, there is a unique arithmetic functor $!_{\Zfin} : \IAU \to \Zfin$. Let $M$ be the set of morphisms in $\IAU$ which are taken to isomorphisms by this $!_{\Zfin}$. By \magicref{ArithmeticLocalization}, this $!_{\Zfin}$ factors uniquely through the arithmetic localization $\IAU[M^{-1}]$. \TODOinline{Illustrate}. Using \magicref{IsLexLocalizationLemma}, it is straightforwardly, if tediously, verified that this $\IAU[M^{-1}]$ is in fact $\ZfinSigma$, with $!_{\Zfin}$ thus being the unique arithmetic functor from $\IAU$ to $\ZfinSigma$ followed by the inclusion from $\ZfinSigma$ to $\Zfin$. That is to say, the role played by the $\Sigma_1$ constraints in defining $\ZfinSigma$ is precisely to make $\ZfinSigma$ an arithmetic localization of $\IAU$.

\newcommand{\IAUGlob}{\mathrm{Glob}_{\IAU}}
Note also that, as $\Zfin$ and $\ZfinSigma$ are both computably enumerable arithmetic universes internal to $\Set$, we find, in keeping with \magicref{ComputableMeansIAUInternal}, that these are the images in $\Set$ of arithmetic universes internal to the initial arithmetic universe $\IAU$. That is, letting $\IAUGlob$ be the unique arithmetic functor from $\IAU$ to $\Set$ (which is the same as the global sections functor $\Hom_{\IAU}(1, -)$, thanks to \magicref{GlobalIsArithmeticOnIAU}), we have arithmetic universes $\IAUGlob^{-1}[\Zfin]$ and $\IAUGlob^{-1}[\ZfinSigma]$ such that the images of these under $\IAUGlob$ are $\Zfin$ and $\ZfinSigma$, respectively.

Via \magicref{SpecialInitialIntrosp}, we thus obtain an introspective theory $\langle \IAU, \IAUGlob^{-1}[\Zfin] \rangle$, whose $\introS : \IAU \to \Glob{\IAUGlob^{-1}[\Zfin]} = \Zfin$ is the unique arithmetic functor from $\IAU$ to $\Zfin$. Thus the set of morphisms in $\IAU$ sent to isomorphisms by this $\introS$ is the same as the $M$ defined above.

Now let $\langle \ZfinSigma, \InnerZfin \rangle$ be the introspective theory described in \magicref{SigmaModelComplex}.

It is readily verified that $\InnerZfin$ and $\IAUGlob^{-1}[\Zfin]$ can be chosen so that the former is the image of the latter under the unique arithmetic functor $!_{\ZfinSigma} : \IAU \to \ZfinSigma$. Furthermore, it is readily verified that $\introS : \ZfinSigma \to \Glob{\InnerZfin}$ is an arithmetic functor. Thus by \magicref{SpecialInitialIntrosp}, the unique arithmetic functor $!_{\ZfinSigma} : \IAU \to \ZfinSigma$ is in fact an introspective theory homomorphism from $\langle \IAU, \IAUGlob^{-1}[\Zfin] \rangle$ to $\langle \ZfinSigma, \InnerZfin \rangle$.

Since $!_{\ZfinSigma} : \IAU \to \ZfinSigma$ was, as noted above, the same as the arithmetic localization $\IAU \to \IAU[M^{-1}]$, we may invoke \magicref{LocalizeIntrosp} to conclude that the introspective theory homomorphism from $\langle \IAU, \IAUGlob^{-1}[\Zfin] \rangle$ to $\langle \ZfinSigma, \InnerZfin \rangle$ is the same as the localization of the introspective theory $\langle \IAU, \IAUGlob^{-1}[\Zfin] \rangle$ at $M$, which by the observation three paragraphs ago is the maximal localization of this introspective theory.

This concludes the proof.
\end{proof}

Clearly, there is nothing special about ZF-Finite in the above. From any traditional computably enumerable logical theory extending, say, Peano Arithmetic (though even this is much stronger than necessary), we get a computably enumerable arithmetic universe in the style of $\InnerZfin$, which is coded by some arithmetic universe $C$ internal to $\IAU$. For example, we can do this with ZFC, or vNBG, or ZFC + \quote{ZFC is not consistent}, or any such thing. For each of these, we get correspondingly an introspective theory $\langle IAU, C \rangle$ via \magicref{IAUAsIntrospGeneral}, whose maximal localization is perfectly analogous to the introspective theory $\langle \ZfinSigma, \InnerZfin \rangle$ from \magicref{SigmaModelComplex}. Also, by looking at $\Glob{C}$ within this introspective theory $\langle IAU, C \rangle$, we also obtain in each such case a suitable geminal category whose underlying lexcategory is the one whose objects and morphisms correspond to arbitrary definable classes and definable graphs of functions between them modulo provable equivalence in the chosen logical theory.

\subsection{Models based on well-founded posets or semicategories}
There are two flavors of models here: Those which give introspective theories (these come from well-founded trees using a certain size restriction; e.g., considering a model based on the von Neumann universe/cumulative hierarchy), and those which give only locally introspective theories with \Loeb/'s theorem fixed points (these come from arbitrary well-founded trees; these are related to the models used in guarded recursion theory, but our distinction between the roles of $T$ and $C$ has previously gone unnoticed and allows us to interpret these models as not proving $\lnot \lnot \Box 0$). We discuss the latter construction first, as it is simpler, and a step en route to grasping the former construction.

Previous iterations of this document at this point gave an overly complicated way of describing something simple (though still good to understand):

First of all, let $Disc$ be an arbitrary (set-sized) category. This gives rise also to the category $\Psh{Disc}$ of presheaves on $Disc$, which is automatically a lexcategory, and indeed locally cartesian closed. By the observation of \cref{TrivialPreIntrosp}, this yields a locally introspective theory $\langle \Psh{Disc}, \Psh{Disc}/-, \id \rangle$.

Now, let $f : Disc \to Struct$ be an arbitrary functor from $Disc$ into an arbitrary (also set-sized) category $Struct$. This induces by composition a functor $f^* : \Psh{Struct} \to \Psh{Disc}$. This $f^*$ preserves pullbacks (as pullbacks are computed pointwise in presheaf categories. Indeed, $f^*$ furthermore preserves all limits, as it has a left adjoint given by left Kan extension). This $f^*$ also has a right adjoint (given by right Kan extension).

\TODOinline{The above tells us that any geometric morphism between locally cartesian closed categories induces in the same way a locally introspective theory.}

By now using \cref{IntrospPullback} with our functor $f^*$ as applied to our first locally introspective theory $\langle \Psh{Disc}, \Psh{Disc}/-, \id \rangle$, we get a second locally introspective theory $\langle \Psh{Struct}, \Psh{Disc}/- \circ f^*, \ldots \rangle$.

This is ALMOST the locally introspective theory we are interested in for Kripke semantics. But it needs to be massaged a bit more, in a manner requiring some further assumptions. \TODOinline{Note that if we stop right here, we get a natural notion of model corresponding to S4 Kripke frames.}

First, a lemmatic construction. Suppose given any arbitrary profunctor $H : X \profuncTo Y$. This $H$ induces by profunctor composition (with profunctors $:1 \profuncTo X$, which correspond to presheaves on $X$) correspondingly an ordinary functor $H \circ - : \Psh{X} \to \Psh{Y}$. Note that this functor $H \circ -$ has a right adjoint (right Kan lift of a profunctor along a profunctor).

(Alternatively, we can think of the above like so: Given (set-sized) categories $X$ and $Y$ and any arbitrary functor $H : X \to \Psh{Y}$, this extends uniquely to a (set-sized-)colimit preserving functor $: \Psh{X} \to \Psh{Y}$, as $\Psh{X}$ is the free cocompletion of $X$ (with respect to set sized colimits). This functor is the one we call $H \circ -$, and by the Special Adjoint Functor Theorem, it will have a right adjoint.)

\TODOinline{Wherever above I put a set-sized constraint on a category, it sounds like I am constraining the category to not be too large. But really what this amounts to is to say that the corresponding presheaf category we are considering must not be too small: they must include presheaves of sufficiently high cardinality relative to the original category.}

If given two such $H_1, H_2$ and a transformation $n : H_1 \to H_2$, this extends also to a transformation $n \circ -$ from $H_1 \circ -$ to $H_2 \circ -$ as ordinary functors $: \Psh{X} \to \Psh{Y}$.

Let us now suppose that $Struct$ (from before) is in fact the free category adding identities to some semicategory $Struct^-$. Then we have a bifunctor $\Hom_{Struct^-} : \op{Struct} \times Struct \to \Set$, as the morphisms of $Struct^-$ are not only closed under composition with each other, but also (trivially) under composition with identities on either side, and thus closed under composition on either side with the morphisms of $Struct$. 

This bifunctor $\Hom_{Struct^-} : \op{Struct} \times Struct \to \Set$ comes with an inclusion transformation to the bifunctor $\Hom_{Struct} : \op{Struct} \times Struct \to \Set$. These bifunctors can both be read as profunctors from Struct to Struct; the latter is in fact the identity bifunctor on Struct, and the former is what we will take to be our $H$ as above. The inclusion transformation thus will become an inclusion transformation $i$ from $H \circ -$ to identity as functors $: \Psh{Struct} \to \Psh{Struct}$.

These comprised the last ingredients we needed for proper Kripke semantics for irreflexive frames. Remember, we already had a locally introspective theory $\langle \Psh{Struct}, \Psh{Disc}/- \circ f^*\rangle$ from above. Let us call this $\langle \Psh{Struct}, C \rangle$ for convenience. We now modify it like so using: \cref{IntrospInternalMap}.

% https://q.uiver.app/?q=WzAsMyxbMCwwLCJcXG9we1xcUHNoe1N0cnVjdH19Il0sWzIsMCwiXFxMZXhDYXQiXSxbMSwyLCJcXG9we1xcUHNoe1N0cnVjdH19Il0sWzAsMSwiXFxQc2h7U3RydWN0fS8tIiwwLHsib2Zmc2V0IjotMn1dLFswLDEsIkMiLDIseyJvZmZzZXQiOjJ9XSxbMCwyLCJIIFxcY2lyYyAtIiwyXSxbMiwxLCJDIiwyXSxbMyw0LCIiLDAseyJzaG9ydGVuIjp7InNvdXJjZSI6MjAsInRhcmdldCI6MjB9fV0sWzQsMiwiQyBcXG9we2l9IiwxLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwfX1dXQ==
\[\begin{tikzcd}
	{\op{\Psh{Struct}}} && \LexCat \\
	\\
	& {\op{\Psh{Struct}}}
	\arrow[""{name=0, anchor=center, inner sep=0}, "{\Psh{Struct}/-}", shift left=2, from=1-1, to=1-3]
	\arrow[""{name=1, anchor=center, inner sep=0}, "C"', shift right=2, from=1-1, to=1-3]
	\arrow["{H \circ -}"', from=1-1, to=3-2]
	\arrow["C"', from=3-2, to=1-3]
	\arrow[shorten <=1pt, shorten >=1pt, Rightarrow, from=0, to=1]
	\arrow["{C \op{i}}"{description}, shorten <=7pt, Rightarrow, from=1, to=3-2]
\end{tikzcd}\]

(In the above diagram, $\LexCat$ must be understood as large enough to contain categories such as $\Psh{Struct}$.)

Keeping in mind that $H \circ - : \Psh{Struct} \to \Psh{Struct}$ has a right adjoint, we may conclude that the result is a locally introspective theory (using \magicref{RepSmallRightAdjointFibers}). When we start off taking $Struct^-$ to be a Kripke frame presumed transitive but not reflexive, taking Disc to be the discrete category on the same objects as Struct-, and $f : Disc \to Struct$ to be the inclusion, then the result of the above process is the introspective theory which corresponds to Kripke semantics on $Struct^-$. \TODOinline{Write out in more detail what the construction comes down to and thus showing how it corresponds to traditional Kripke semantics.}

The result will be locally Loeb when the order on the objects of Struct- given by its morphisms is a converse well-founded order. \TODOinline{Expand on this}. We can then impose a suitable size constraint to get it to be fully introspective.

\begin{TODOblock}
Clarify the size constraint. Note that it is very common in mathematics to take the relative point of view on Set, in terms of Grothendieck universes or the like, so as to consider the topos $Set^K$ as built up from a bunch of full subtoposes defined by a global cardinality constraint: those presheaves whose cardinality at each object is constrained by an upper bound, and this upper bound is the same at each object. But there is no reason we must only consider such constant upper bounds. We can just as well consider all kinds of varying upper bounds. And by allowing the the upper bounds to vary in the appropriate way, growing sufficiently fast, we get that $Set^K$ is built up from a bunch of full subtoposes which are all introspective theories. It is like a shift of frame of reference, to allow the upper bounds to vary with suitable \quote{slope} instead of having to be constant. But it serves all the same purposes as the very standard move in mathematics, of taking a relative point of view on Set.

Note that while typical categorical arguments work within structural set theory, the above can be done most readily within a material set theory. Furthermore, while typical categorical arguments work within the internal logic of toposes with NNO or some such thing, the above requires us to move beyond this, and is done most readily using the Axiom of Replacement. Thus, ZF or IZF or the like. Specifically, take Set to be a material set theory and a strict lexcategory, and take a cardinality constraint at a node to be a set of sets (corresponding to a full subcategory of Set) satisfying the condition that this full subcategory is closed under finite limits. Then we furthermore impose the condition that the full subcategory at node X contains the small category of all discrete presheaves on < X and all natural transformations between them. Using transfinite induction, we can easily define a function from nodes to sets that has this property.

The reason we must use the Axiom of Replacement is essentially because the initial algebra/transfinite recursion properties of well-founded sets within a mere topos $T$ are only with respect to endomorphisms of the subobject functor (which is representable, and thus such endomorphisms are themselves represented by endomorphisms on $\Omega$, living internally to the category), and not with respect to natural transformations of the self-indexing more generally (which is not representable, and thus its endomorphisms are not given by some internal data). Even simple natural transformations of the self-indexing such as the powerset operation on indexed sets may not admit corresponding catamorphisms defined by induction (e.g., there is in general no slice above the natural numbers in which the fiber of n + 1 is the powerset of the fiber of n).
\end{TODOblock}

\begin{TODOblock}
The above results immediately imply that the theorems of modal logic which hold for all locally introspective theories are no stronger than those which hold for all transitive Kripke frames, and the theorems which hold for all introspective theories or the theorems which hold in all locally Loeb theories are no stronger than those which hold for all transitive converse well-founded Kripke frames. From this, we can readily conclude that the theorems which hold in all locally introspective theories are K4 and the theorems which hold in all introspective theories or the theorems which hold in all locally Loeb theories are GL. Does the last two of these coinciding help us embed every locally introspective theory into an introspective theory, in the same way as we did for the unconstrained vs constrained presheaf models of GL Kripke frames?
\end{TODOblock}

\TODOinline{LaTeXify the above better}

\begin{TODOblock}
Give topos of trees example as well. This is what happens when we take $f$ as the identity functor and $Struct = Disc$ as the free category on some semicategory (in particular, the semicategory of natural numbers with strict reverse ordering). Note that this is an example of an introspective theory in which the functor from the introspective theory to the global aspect of the geminal category is an equivalence of categories (probably an equivalence of geminal categories, even? Thus, what we were calling a GLS-category...). Our $\Box$ operator becomes, on this category, what Birkedal et al call the step operator. This has a left adjoint as well, what Birkedal et al call the constant set operator. It's likely that in general we have left adjoints for these models based on well-founded semicategories.

Actually, many of the things we cite to Birkedal are already anticipated in "Unifying Recursive and Co-recursive Definitions in Sheaf Categories" by Pietro Di Gianantonio Marino Miculan.
\end{TODOblock}

\subsection{Recap}
\TODO

\fileend