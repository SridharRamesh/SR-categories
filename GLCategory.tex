\filestart

\section{Geminal categories}\label{GeminalChapter}
\subsection{Preview}
In this chapter, we give an explicit yet tractably compact description of the initial introspective theory (which we call the theory of \quote{geminal categories}).

We also show the remarkable result that any strict introspective theory can itself be equipped in a natural way as a model of this initial introspective theory; that is, any strict introspective theory can be seen as a geminal category.

This last statement is easy to misinterpret, so let me be a bit more clear as to what I mean by this. I do not mean the trivial statement that every introspective theory extends the initial introspective theory. Rather, I mean that the theory of strict introspective theories extends the initial introspective theory (even though the theory of strict introspective theories is not itself an introspective theory).

We will also discuss a partial converse of sorts, a way to extract an introspective theory from a geminal category, with the extracted introspective theory having a certain terminality property (that is, we construct a sort of co-free introspective theory induced by the given geminal category).

\TODOinline{This whole chapter is currently being rewritten; thus, in flux}

\subsection{Strict introspective theories}
It will be technically convenient for us to work in this chapter with a slightly less \quote{presentation-free} variant of our notion of introspective theories.

\begin{definition}
A \defined{strict introspective theory} is a strict lexcategory $T$, a lexcategory $C$ internal to $T$, a strict lexfunctor $\introS$ from $T$ to the global aspect of $C$, and a natural transformation $\introN$ from $\id_T$ to $\Hom_C(1, \introS(-))$.
\end{definition}

This differs from the ordinary definition of an introspective theory (\magicref{DefnIntrospSN}) in the following ways: $T$ is made strict (thus, its internal structures can be considered up to equality instead of mere isomorphism), we demand the selection of $C$ as a particular $T$-internal lexcategory up to equality (instead of simply up to presenting equivalent indexed categories), and we take $\introS$ as a strict lexfunctor (thus, $\introS$ preserves chosen basis limits on-the-nose).

Clearly, any strict introspective theory presents some introspective theory. Conversely, we have the following:

\begin{theorem}
Any introspective theory $\langle T, C, \introS, \introN \rangle$ is presented by some strict introspective theory.
\end{theorem}
\begin{proof}
Suppose given an introspective theory $\langle T, C, \introS, \introN \rangle$. By definition of the smallness of $C$, we can choose some lexcategory $C_{int}$ internal to $T$ (up to isomorphism of indexed strict lexcategories) which presents the $T$-indexed category $C$ (up to equivalence of indexed categories).

Now using \TODO, let $T_{strict}$ be some strict lexcategory which presents $T$ and which has the freeness property that \TODO. Because $T'$ presents $T$, we can choose some specific internal lexcategory $C_{strict}$ in $T_{strict}$ (up to equality!) which presents $C_{int}$. Because $C_{strict}$ presents $C_{int}$ which in turn presents $C$, $\introS$ can be viewed as a (non-strict) lexfunctor from $T$ to the global aspect of $C_{strict}$. Now using the freeness property of $T_{strict}$, we obtain a strict lexfunctor $\introS_{strict}$ from $T_{strict}$ to the global aspect of $C_{strict}$, such that $\introS_{strict}$ presents $\introS$.

Finally, we deal with $\introN$. \TODO

Thus, we have obtained a strict introspective theory $\langle T_{strict}, C_{strict}, \introS_{strict}, \introN \rangle$ presenting the introspective theory $\langle T, C, \introS, \introN \rangle$.
\end{proof}

Strict introspective theories are slightly more convenient than introspective theories for phrasing the results of this chapter, because strict introspective theories are themselves an essentially algebraic notion. That is, there is an essentially algebraic theory such that the models of this theory are the strict introspective theories. (This is in precisely the same way that the theory of strict categories is essentially algebraic, while the theory of categories construed up to equivalence is not quite essentially algebraic.)

As with any essentially algebraic theory, we get automatically a corresponding notion of homomorphism.

\begin{definition}
A \defined{homomorphism} between strict introspective theories $\langle T_1, C_1, \introS_1, \introN_1 \rangle$ and $\langle T_2, C_2, \introS_2, \introN_2 \rangle$ is a strict lexfunctor $H : T_1 \to T_2$ such that $H[C_1] = C_2$, $H[\introN_t] = \introN_{H(t)}$ for each object $t$ of $T_1$, and the following diagram commutes:

% https://q.uiver.app/?q=WzAsNCxbMCwwLCJUXzEiXSxbMiwwLCJUXzIiXSxbMCwxLCJcXEdsb2J7Q18xfSJdLFsyLDEsIlxcR2xvYntDXzJ9Il0sWzAsMSwiSCJdLFswLDIsIlxcaW50cm9TXzEiLDJdLFsyLDMsIlxcSW5kdWNlZEhvbW97SH17Q18xfSIsMl0sWzEsMywiXFxpbnRyb1NfMiJdXQ==
\[\begin{tikzcd}
	{T_1} && {T_2} \\
	{\Glob{C_1}} && {\Glob{C_2}}
	\arrow["H", from=1-1, to=1-3]
	\arrow["{\introS_1}"', from=1-1, to=2-1]
	\arrow["{\InducedHomo{H}{C_1}}"', from=2-1, to=2-3]
	\arrow["{\introS_2}", from=1-3, to=2-3]
\end{tikzcd}\]

In the above diagram, the bottom arrow indicates the action of $H$ as a homomorphism from the global aspect of the $T_1$-internal structure $C_1$, to the global aspect of the corresponding $T_2$-internal structure $H[C_1] = C_2$.
\end{definition}

Such homomorphisms are closed under composition and thus we obtain the category of strict introspective theories.

As the category of models of an essentially algebraic theory, this category must have an initial object. That is, there is a strict introspective theory with a unique homomorphism into any other strict introspective theory. In this chapter, we will find a tractable explicit description of this initial strict introspective theory.

\subsection{Defining geminal categories}
We make heavy use in this section of the conventions from \magicref{MultiplyInternal}, with which the reader may wish to reacquaint themselves.

\begin{definition}[Geminal category (verbose presentation)]\label{VerboseGeminalCatDefn}
A \defined{geminal category} internal to lexcategory $C_0$ consists of several ingredients:

\begin{itemize}
    \item 
    The first ingredient is an infinite sequence $C_1, C_2, C_3, \ldots$, in which each $C_i$ (for $i \geq 1$) is the global aspect of a lexcategory $C'_i$ internal to $C_{i - 1}$.
\end{itemize}

Thus, each $C'_{i + n}$ is $n$-tuply internal to $C_i$.

(Throughout the following, it will be useful to keep in mind that we are using these general naming habits: Primed names are used for internal structures, while the corresponding unprimed names indicate the corresponding global aspects. Furthermore, names subscripted with index $i$ arise from structure internal to $C_{i - 1}$.)

\begin{itemize}
    \item
    The second ingredient comprising a geminal category is an infinite sequence of internal lexfunctors $F'_1, F'_2, F'_3, \ldots$, where each $F'_i : C'_i \to \Gamma[C'_{i + 1}]$ is internal to $C_{i - 1}$ (for $i \geq 1$).
\end{itemize}

Pictorially, this can be envisioned like so: 

% https://q.uiver.app/?q=WzAsMTEsWzEsMCwiQydfMSJdLFsyLDAsIlxcR2FtbWFbQydfMl0iXSxbMiwxLCJDJ18yIl0sWzMsMSwiXFxHYW1tYVtDJ18zXSJdLFswLDAsIkNfMDoiXSxbMCwxLCJDXzE6Il0sWzAsMiwiQ18yOiJdLFszLDIsIkMnXzMiXSxbNCwyLCJcXEdhbW1hW0MnXzRdIl0sWzAsMywiXFxsZG90cyJdLFs0LDMsIlxcbGRvdHMiXSxbMCwxLCJGJ18xIl0sWzIsMywiRidfMiJdLFs3LDgsIkYnXzMiXSxbNSw0LCJcXEdhbW1hIl0sWzYsNSwiXFxHYW1tYSJdLFs5LDYsIlxcR2FtbWEiXV0=
\[\begin{tikzcd}
	{C_0:} & {C'_1} & {\Gamma[C'_2]} \\
	{C_1:} && {C'_2} & {\Gamma[C'_3]} \\
	{C_2:} &&& {C'_3} & {\Gamma[C'_4]} \\
	\ldots &&&& \ldots
	\arrow["{F'_1}", from=1-2, to=1-3]
	\arrow["{F'_2}", from=2-3, to=2-4]
	\arrow["{F'_3}", from=3-4, to=3-5]
	\arrow["\Gamma", from=2-1, to=1-1]
	\arrow["\Gamma", from=3-1, to=2-1]
	\arrow["\Gamma", from=4-1, to=3-1]
\end{tikzcd}\]

Here, the first row is structure internal to $C_0$, the second row is structure internal to $C_1$ (thus, doubly internal to the ambient $C_0$), the third row is structure internal to $C_2$ (thus, triply internal to the ambient $C_0$), and so on.

In keeping with our convention, we shall also use $F_i : C_i \to C_{i + 1}$ to refer to the global aspect of $F'_i$. These global aspects line up more straightforwardly:

% https://q.uiver.app/?q=WzAsNCxbMCwwLCJDXzEiXSxbMSwwLCJDXzIiXSxbMiwwLCJDXzMiXSxbMywwLCJcXGxkb3RzIl0sWzAsMSwiRl8xIl0sWzEsMiwiRl8yIl0sWzIsMywiRl8zIl1d
\[\begin{tikzcd}
	{C_1} & {C_2} & {C_3} & \ldots
	\arrow["{F_1}", from=1-1, to=1-2]
	\arrow["{F_2}", from=1-2, to=1-3]
	\arrow["{F_3}", from=1-3, to=1-4]
\end{tikzcd}\]

Finally, the last ingredients we require are some equations:

\begin{itemize}
    \item 
     We require that $F_i[C'_j] = C'_{j + 1}$ and $F_i[F'_j] = F'_{j + 1}$ for $j > i \geq 1$.
     
    \item
    Furthermore, we require that the following diagram of lexfunctors internal to $C_{i - 1}$ commutes, for each $i \geq 1$. We call this equation $E_i$.
    
% https://q.uiver.app/?q=WzAsNCxbMCwwLCJDJ19pIl0sWzAsMiwiXFxHYW1tYSBbQydfe2kgKyAxfV0iXSxbMiwyLCJcXEdhbW1hIFtcXEdhbW1hW0MnX3tpICsgMn1dXSJdLFsyLDAsIlxcR2FtbWEgW0MnX3tpICsgMX1dIl0sWzAsMSwiRidfaSIsMl0sWzAsMywiRidfaSJdLFszLDIsIlxcR2FtbWEgW0YnX3tpICsgMX1dIl0sWzEsMiwiXFxJbmR1Y2VkSG9tb3tGJ19pfXtDJ197aSArIDF9fSIsMl1d
\[\begin{tikzcd}
	{C'_i} && {\Gamma [C'_{i + 1}]} \\
	\\
	{\Gamma [C'_{i + 1}]} && {\Gamma [\Gamma[C'_{i + 2}]]}
	\arrow["{F'_i}"', from=1-1, to=3-1]
	\arrow["{F'_i}", from=1-1, to=1-3]
	\arrow["{\Gamma [F'_{i + 1}]}", from=1-3, to=3-3]
	\arrow["{\InducedHomo{F'_i}{C'_{i + 1}}}"', from=3-1, to=3-3]
\end{tikzcd}\]

That is, we require that $\InducedHomo{F'_i}{C'_{i + 1}} \circ F'_i = \Gamma[F'_{i + 1}] \circ F'_i$. This could be naively glossed as \quote{$F'_i \circ F'_i = F'_{i + 1} \circ F'_i$}, in severe abuse of notation.
\end{itemize}

This concludes the definition of a geminal category internal to $C_0$.

By a \defined{geminal category} simpliciter, we mean of course the case where $C_0 = \Set$. (Note that in this case, $C'_1$ can be identified with its global aspect $C_1$, in the same way that any structure internal to $\Set$ can be identified with its global aspect, as the global sections functor from $\Set$ to $\Set$ is the identity.).
\end{definition}

We wrote out here the definition for general $C_0$, instead of specifically for $C_0 = \Set$, just to highlight certain symmetries in this definition.

All aforementioned structure apart from $C_0$ itself has been given as $i$-tuply internal to $C_0$ for some $i > 0$. Thus, all of this structure is indeed given by diagrams within $C_0$.

When being fully explicit, we reference such a geminal category internal to $C_0$ by enumerating $\langle C'_1, C'_2, C'_3, \ldots; F'_1, F'_2, F'_3, \ldots \rangle$. However, we often take the abuse of notation convention of giving such a geminal category the same name as its first component $C'_1$, with the rest of the structure implicit instead of explicitly named.

It is manifestly the case that this definition of a geminal category is essentially algebraic. That is, there is some essentially algebraic theory such that models of that theory internal to $C_0$ are the same thing as geminal categories internal to $C_0$.

As an essentially algebraic theory, we automatically get a notion of homomorphism. In this case, it amounts to the following:

\begin{definition}\label{VerboseGeminalCatHomoDefn}
Given two geminal categories $\langle C'_1, C'_2, C'_3, \ldots; F'_1, F'_2, F'_3, \ldots \rangle$ and $\langle D'_1, D'_2, $ $D'_3, \ldots; \phi'_1, \phi'_2, \phi'_3, \ldots \rangle$, a \defined{homomorphism} from the former to the latter consists of a lexfunctor $H : C'_1 \to D'_1$ such that $H[C'_i] = D'_i$ and $H[F'_i] = \phi'_i$ for each $i > 1$, while also the following diagram commutes:

% https://q.uiver.app/?q=WzAsNCxbMCwwLCJDJ18xIl0sWzIsMCwiRCdfMSJdLFsyLDIsIlxcR2xvYntIW0MnXzJdfSA9IFxcR2xvYntEXzInfSJdLFswLDIsIlxcR2xvYntDXzInfSJdLFswLDEsIkgiXSxbMCwzLCJGJ18xIiwyXSxbMywyLCJcXEluZHVjZWRIb21ve0h9e0MnXzJ9IiwyXSxbMSwyLCJcXHBoaSdfMSJdXQ==
\[\begin{tikzcd}
	{C'_1} && {D'_1} \\
	\\
	{\Glob{C_2'}} && {\Glob{H[C'_2]} = \Glob{D_2'}}
	\arrow["H", from=1-1, to=1-3]
	\arrow["{F'_1}"', from=1-1, to=3-1]
	\arrow["{\InducedHomo{H}{C'_2}}"', from=3-1, to=3-3]
	\arrow["{\phi'_1}", from=1-3, to=3-3]
\end{tikzcd}\]
\end{definition}

\begin{theorem}
Given any geminal category $K_1 = \langle C'_1, C'_2, C'_3, \ldots; F'_1, F'_2, F'_3, \ldots \rangle$, we have also that $K_2 = \langle C'_2, C'_3, C'_4, \ldots; F'_2, F'_3, F'_4 \ldots \rangle$ comprises a geminal category internal to $C'_1$.

We furthermore have that $F'_1$ acts as a geminal category homomorphism from $K_1$ to the global aspect of $K_2$.
\end{theorem}
\begin{proof}
This is all direct by definition.

For the first part, each condition imposed upon each $C'_{i}$ or $F'_{i}$ in the definition of a geminal category comes with an analogous condition imposed upon $C'_{i + 1}$ or $F'_{i + 1}$. Thus, it is immediate that $K_2$ is itself a geminal category internal to $C'_1$.

For the second part, the definition of a geminal category directly imposes upon $F_1$ precisely the conditions which are necessary for $F_1$ to comprise a geminal category homomorphism from $K_1$ to the global aspect of $K_2$ (in particular, equation $E_1$ from \magicref{VerboseGeminalCatDefn} is identical to the commutative diagram from \magicref{VerboseGeminalCatHomoDefn}, in this context).
\end{proof}

The above all amounts to an infinitary presentation of the theory of geminal categories. For this reason, we it the \quote{verbose presentation} of geminal categories. However, it turns out this same theory can be finitely axiomatized as well.

\begin{definition}[Geminal category (compact definition)]\label{CompactGeminalCatDefn}
A \defined{compactly presented geminal category} internal to lexcategory $C_0$ consists of the structure $C'_i$, $F'_i$, and equations $E_i$ of the verbose presentation, but only for $i \in \{1, 2\}$.

(Here, in interpreting the codomain of $F'_2$, we take $C'_3$ to be $F_1[C'_2]$, and in interpreting the equation $E_2$, we take $F'_3$ to be $F_1[F'_2]$)

That is, a compactly presented geminal category internal to $C_0$ consists of the following six pieces of data:

\begin{itemize}
    \item A lexcategory $C'_1$ internal to $C_0$, whose global aspect we call $C_1$.
    
    \item A lexcategory $C'_2$ internal to $C_1$, whose global aspect we call $C_2$.
    
    \item A lexfunctor $F'_1 : C'_1 \to \Gamma[C'_2]$, internal to $C_0$. We call the global aspect of this $F_1 : C_1 \to C_2$.
    
    \item A lexfunctor $F'_2 : C'_2 \to \Gamma[C'_3]$, internal to $C_1$.
    
    (Here, $C'_3$ is defined as $F_1[C'_2]$.)
    
    \item The equation $\InducedHomo{F'_1}{C'_{2}} \circ F'_1 = \Gamma[F'_2] \circ F'_1$, internal to $C_0$. We call this equation $E_1$.
    
    \item The equation $\InducedHomo{F'_2}{C'_{3}} \circ F'_2 = \Gamma[F'_3] \circ F'_2$, internal to $C_1$. We call this equation $E_2$.
    
    (Here, $F'_3$ is defined as $F_1[F'_2]$.)
\end{itemize}
\end{definition}

Clearly, the structure defining a compactly presented geminal category is part of the structure defining a verbosely presented geminal category. But in fact, these are equivalent definitions.

\begin{theorem}
The structure of a compactly presented geminal category uniquely determines the further structure of a verbosely presented geminal category.
\end{theorem}
\begin{proof}
By definition, in a geminal category, we must have that $F_1[C'_j] = C'_{j + 1}$ and $F_1[F'_j] = F'_{j + 1}$ for each $j > 2$.

Accordingly, if we are given the structure in \magicref{CompactGeminalCatDefn}, and we are to extend it to all the further structure in \magicref{VerboseGeminalCatDefn}, it inductively must be the case that $C'_j = F_1^{j - 2}[C'_2]$ and $F'_j = F_1^{j - 2}[F'_2]$ for each $j > 2$. Adopt these definitions throughout the following accordingly.

The equations given to us directly in the compact presentation are the equations $E_1$ and $E_2$ of the verbose presentation. Furthermore, we obtain the equation $E_i$ for $i > 2$ by applying $F_1^{n - 1}$ to $E_2$.

What remains is only to see that each $F_i$ for $i > 1$ also takes $C'_j$ to $C'_{j + 1}$ and takes $F'_j$ to $F'_{j + 1}$, for $j > i \geq 1$.

We prove this by induction on $i$. For the base case of $i = 1$, we have ensured this by construction. As for the inductive step, suppose we know this already holds for $i$. Then $F_{i + 1}[C'_j] = F_{i + 1} [F_i [C'_{j - 1}]] = F_i [F_i [C'_{j - 1}]] = F_i [C'_j] = C'_{j + 1}$, where the second step is by $E_i$ and the other steps are by our induction hypothesis. And similarly with $F'$ in place of $C'$ throughout as well.
\end{proof}

\TODOinline{Everything following in this chapter is about to get thrown out/rewritten}

\subsection{Arriving at geminal categories}
\begin{observation}\label{IntrospContainsGLObservation}
\TODOinline{Perhaps make greater use of doubly-indexed categories to discuss the following, or perhaps make no use of them and remove them from the preliminaries.}

Let $\langle T, C \rangle$ be an inner-strict introspective theory. Recall (see \magicref{InnerStrictDefn}) that inner strictness means we've fixed a particular representation for $C$ as an internal lexcategory (thus, we have a well-defined $\Ob(C)$ as an object of $T$ and so on).

Now it may be that $C$ is equippable with further structure internal to $T$ than just that of a lexcategory. For example, perhaps $C$ is furthermore an internal locally cartesian closed category. Or perhaps $C$ is the underlying lexcategory of some larger structure internal to $T$ with more sorts than just the objects and morphisms of $C$. At the extreme end, the lexcategory $T$ itself defines some species of gadget, and $C$ can be considered an underlying lexcategory of the generic internal gadget of this sort within $T$.

At any rate, pick some lexly defined theory whose models come with an underlying lexcategory, such that $C$ can be seen as the underlying lexcategory of a model of such a theory internal to $T$. This amounts to choosing some lexcategory $L$ with an internal lexcategory $C_L$, and a lexfunctor $\ell: L \to T$ taking $C_L$ to $C$. If models of $L$ are called gadgets, then in this way, we have a gadget $G$ internal to $T$, with underlying lexcategory $|G| = C$. (For any gadget, I will use such bars to signify its underlying lexcategory)

Now make the following observation: We have $G$ as an internal gadget in $T$ (that is, a $T$-indexed gadget which is $T$-small, thus specified by a diagram within $T$). But by applying $\introS$ to the diagram in $T$ specifying $G$ (that is, by composing $\ell$ with $\introS$), we also get some gadget $G' = \introS[G]$ internal to $C = |G|$. (That is, a $(T, |G|)$-indexed gadget which is $|G|$-small).

It was key here that $G$ was in fact $T$-small, so that the data defining $G$ lived in $T$, thus within the domain of applicability of $\introS$.

In fact, we can iterate this process repeatedly. There is some diagram in $T$ specifying $G'$ as a gadget internal to $|G|$. We can apply $\introS$ to this in turn to get some gadget $G''$ internal to $G'$. (This $G''$ amounts to a $(T, |G|, |G'|)$-indexed gadget which is $|G'|$-small). And we can go on forever in this way, continuing to iterate applications of $\introS$ as we like.

What's more, the natural transformation $\introN$ on $T$ then gives us a gadget homomorphism $\introN_G : G \to \Hom_{|G|}(1, \introS[G]) = \Hom_{|G|}(1, G')$ (that is, by whiskering $\ell$ along $\introN$, we get a natural transformation from $\ell$ [corresponding to $G$] to $\Hom_C(1, S(\ell(-)))$ [corresponding to $\Hom_{|G|}(1, G')$]).

Here, by $\Hom_{|G|}(1, G')$, I mean the gadget whose data at any particular sort, defined over $t$ in $T$, is given by the data of that particular sort in $G'$, defined over $t$ in $T$ and $1$ in $|G|$. That is, its data at any particular sort is given by the morphisms in $|G|$ from $1$ to the corresponding sort of $G'$. That is, it is the global aspect of the $G$-internal gadget $G'$.

What's more, just in the same way that we applied $\introS$ to $G$ to obtain $G'$, we can apply $\introS$ to the data of this gadget-homomorphism $\introN_G$ too (as this data is just certain morphisms in $T$). We get a gadget-homomorphism $\introN'_{G'} = S[\introN_G]$, internal to $G$, from $G'$ to $\Hom_{|G'|}(1, G'')$. Note that the data of $\introN'_{G'}$ amounts to a collection of globally defined elements of $\Mor(G)$.

And again, we can go on forever, continuing to iterate applications of $\introS$ as we like. Thus, we may define $\introN''_{G''} = \introS[\introN'_{G'}]$. Note that, by \parensref{SMatchesN}, $\introS$ and $\introN_G$ have the same action on globally defined elements, so $\introN''_{G''}$ is equivalently $\introN_G(\introN'_{G'})$.

Now observe that we can consider the following diagram within $T$:

\[\begin{tikzcd}
	G && {\Hom_{|G|}(1, G')} \\
	\\
	{\Hom_{|G|}(1, G')} && {\Hom_{|G|}(1, \Hom_{|G'|}(1, G''))}
	\arrow["\introN_G", from=1-1, to=3-1]
	\arrow["\introN_G"', from=1-1, to=1-3]
	\arrow["\introN_{\Hom_{|G|}(1, G')}"', from=1-3, to=3-3]
	\arrow["{\Hom_{|G|}(1, \introN'_{G'})}", from=3-1, to=3-3]
\end{tikzcd}\]

Note that this diagram commutes, as it is the naturality square for $\introN$ instantiated at the morphisms comprising $\introN_G$ themselves.

That is, for any generalized element $g$ of of any of the sorts comprising $G$, defined over object $t$ in $T$, we can consider $\introN_G(g)$ as a generalized element of $G'$, defined over $t$ in $T$ and $1$ in $|G|$. We can then apply our direct homomorphism $\introN'_{G'}$ to this, to get $\introN'_{G'}(\introN_G(g))$ as a generalized element of $G''$, defined over $t$ in $T$ and $1$ in $|G|$ and $1$ in $|G'|$. Or we can construe $\introN_G(g)$ again as merely data within $|G|$, a particular morphism with domain $1$ in $|G|$, defined over $t$ in $T$, and then apply $\introN_G$ to this once more, to get a particular morphism with domain $1$ in $|G'|$, defined over $t$ in $T$ and $1$ in $|G|$, and then re-construe this as as a generalized element of $G''$ defined over $t$ in $T$ and $1$ in $|G|$ and $1$ in $|G'|$. Either way, we get the same result.

In loose (perhaps too loose) language, we might say $\introN_G \circ \introN_G = \introN'_{G'} \circ \introN_G$.

And by applying $\introS$ to this last diagram, we also get the same diagram with one more prime added everywhere. That is, we get that $\introN'_{G'} \circ \introN'_{G'} = \introN''_{G''} \circ \introN'_{G'}$, in the exact same (perhaps too loose) language. Again, we can continue iterating applications of $\introS$ forever to get further such equations.

But all of the aforementioned structure follows from just the existence of gadget $G$, $G'$, $\introN_G$, $\introN'_{G'}$, and the equations loosely describable as $\introN_G \circ \introN_G = \introN'_{G'} \circ \introN_G$ and $\introN'_{G'} \circ \introN'_{G'} = \introN_G(\introN'_{G'}) \circ \introN'_{G'}$. Each further iteration of applying $\introS$ to something which already exists internal to $|G|$ might as well be an application of $\introN_{G}$ instead, by the fact that $\introS$ and $\introN_{G}$ have the same action.
\end{observation}

This brings us to the compact definition of a geminal gadget:

\subsection{The free introspective theory: The theory of geminal categories}
\begin{definition}
For any particular lex theory extending the theory of strict lexcategories, whose models we call gadgets and whose models' underlying strict lexcategories we denote with vertical bars, a \defined{geminal gadget} is a structure with the following six components and properties (note that the primed components are internal doppelgangers of the non-primed components):
\begin{itemize}
    \item 1: A gadget $G$.
    \item 1': Internally to $|G|$, a gadget $G'$.
    \item 2: A gadget-homomorphism $\introN_G$ from $G$ to $\Hom_{|G|}(1, G')$.
    \item 2': Internally to $|G|$, a gadget-homomorphism $\introN'_{G'}$ from $G'$ to $\Hom_{|G'|}(1, G'')$, where $G'' = \introN_G[G']$.
    \item 3: Such that $\introN_G \circ \introN_G = \introN'_{G'} \circ \introN_G$, in the appropriate sense described above.
    
    That is, for any object or morphism or other datum $g$ in $G$, we have that $\introN_G(g)$ is a globally defined datum of the same sort in $G'$. $\introN'_{G'} (\introN_G(g))$ is then a global datum of that same sort in the global aspect of $G''$. We can also apply $\introN_G$ itself to the morphism in $|G|$ with domain $1$ representing $\introN_G(g)$, to get what we might call $\introN_G (\introN_G(g))$, again a global datum of that same sort in the global aspect of $G''$. And our demand now is that these last two datums be equal.
    
    \item 3': Such that $\introN'_{G'} \circ \introN'_{G'} = \introN''_{G''} \circ \introN'_{G'}$, in the same sense as above, where $\introN''_{G''} = \introN_{G}[\introN'_{G'}]$.
\end{itemize}

\TODOinline{Say in simple words why we should have axiom 3; we want that $\introN_G$ is not just a gadget-homomorphism, but a homomorphism of all the structure we are considering, including a homomorphism which preserves $\introN$ itself! Similarly, discuss how the primed axioms are the internal mirror images of the non-primed axioms.}

Thus, we may speak of geminal strict lexcategories, geminal strict locally cartesian closed categories, geminal strict elementary toposes, and so on. Generally, we will drop the explicit word \quote{strict} when speaking of geminal structures (thus simply saying geminal locally cartesian closed categories, geminal elementary toposes, etc), as it can be presumed that any lexly defined notion is strict.

Note also that, at a minimum, the notion of gadget used here is the notion of a strict lexcategory, and thus, for convenience, we may say \defined{geminal category} as shorthand for geminal strict lexcategory.

In usual abuse of language, we may name simply $G$ or $\langle G, G' \rangle$ to refer to this entire structure. But when we are fully explicit, we may write out $\langle G, G', \introN_{G}, \introN'_{G'} \rangle$.

\TODOinline{Word this all better, most clearly. Does framing things in terms of indexed categories help here? One difficulty is that we need to talk about strict category structure, so that we can talk about preservation of limits on the nose, which actually is necessary for the theory of geminal categories to comprise an introspective theory.}

A \defined{homomorphism} between geminal gadgets is a gadget-homomorphism between their underlying gadgets $G$ (thus, preserving all the structure specified in Axiom 1) which further preserves all the further specified structure of axioms 1', 2, and 2'.
\end{definition}

\begin{theorem}\label{IntrospContainsGL}
Every inner-strict introspective theory $\langle T, C, \introS, \introN \rangle$ such that $C$ is the underlying strict lexcategory of a $T$-internal gadget $G$ contains a $T$-internal geminal-gadget with underlying gadget the $G$ of our introspective theory, with $G'$ given by $\introF[G]$, with $\introN_{G}$ of the geminal gadget structure given (as the coinciding names suggest) by the action of $\introN$ on the components of $G$, and with $\introN'_{G'}$ given by $\introS[\introN_{G}]$.
\end{theorem}
\begin{proof}
This was the essential content of the discussion at \cref{IntrospContainsGLObservation} which we used to motivate the definition of a geminal gadget in the first place.
\end{proof}

\begin{theorem}\label{GLContainsGL}
Every geminal gadget $G = \langle G, G', \introN_{G}, \introN'_{G'}\rangle$ has an internal geminal gadget $G' = \langle G', G'', \introN'_{G'},$ $\introN''_{G''}\rangle$ where $G''$ is defined as $\introN_{G}[G']$ and $\introN''_{G''}$ is defined as $\introN_{G}[\introN'_{G'}]$. Furthermore, $\introN_{G}$ acts as a geminal gadget homomorphism from $G$ into the global aspect of $G'$.
\end{theorem}
\begin{proof}
First, in order to show that $G'$ is an internal geminal gadget with the specified structure, we must show that it satisfies the six axioms of a geminal gadget. Axiom 1 for $G'$ follows as equivalent to axiom 1' for $G$ itself, and then axiom 1' for $G'$ follows by application of $\introN_{G}$ to axiom 1 for $G'$. In the same way, axiom 2 for $G'$ follows as equivalent to axiom 2' for $G$ itself, and then axiom 2' for $G'$ follows by application of $\introN_{G}$ to axiom 2 for $G'$. In the same way, axiom 3 for $G'$ follows as equivalent to axiom 3' for $G$ itself, and then axiom 3' for $G'$ follows by application of $\introN_{G}$ to axiom 3 for $G'$.

Next, in order to see that $\introN_{G}$ furnishes a geminal gadget homomorphism from $G$ to $G'$, we need to observe that it is a gadget homomorphism (this is given by axiom 2 for $G$), and that it preserves the structure of axioms 1', 2, and 2'. It preserves the structure of 1' and 2' by definition, as we have defined these components of the geminal gadget $G'$ to be $\introN_{G}$ applied to the corresponding components of the geminal gadget $G$. And the fact that $\introN_{G}$ preserves the structure of axiom 2 is the content of axiom 3 for $G$.
\end{proof}

\begin{TODOblock}
Note that the above means every geminal gadget is the carrier of a coalgebra for a particular endofunctor on geminal gadgets. Those gadgets for which this coalgebra is an isomorphism are of particular note (as related to GLS modal logic and not just GL modal logic). We can also iterate transfinitely and take a colimit (usually just an omega-colimit for finitary notions of gadget), i.e. apply Adamek's construction, to reflect arbitrary geminal gadgets into these GLS geminal gadgets. See the section on well-pointed endofunctors at "transfinite construction of free algebras" on nlab, or "A unified treatment of transfinite constructions for free algebras, free monoids, colimits, associated sheaves, and so on.". Keep in mind that the relevant endofunctor is indeed well-pointed, by the properties of geminal categories. Keep in mind, this infinitary colimit reflection can be carried out for geminal categories internal to $\Set$, given $\Set$'s sufficient infinitary colimit structure; we do not have a guarantee that a geminal category internal to an arbitrary lexcategory can be reflected into a GLS category.

Actually, none of this is specific to geminal gadgets (models of free introspective theories). It applies to models of any introspective theory. (Although maybe we don't actually have well-pointedness here in general?)

It may be curious to consider in what cases an introspective theory is itself GLS-geminal like so. Many natural examples do have this property (the $\Sigma_1$ introspective theory with internal $\Sigma_1$ C for a sound theory like PA, the topos of trees with step operator, the initial arithmetic universe, etc). These will generally also be "super-introspective theories" in the terminology of the TODO note at the end of this section.
\end{TODOblock}

\begin{corollary}\label{GLCatTheoryIsIntrosp}
The free lexcategory $\GLCatTheory$ with an internal geminal gadget (for some fixed notion of gadget) is naturally equipped as an introspective theory $\langle \GLCatTheory, C, \introS, $ $\introN \rangle$.
\end{corollary}
\begin{proof}
This is equivalent to \cref{GLContainsGL}, via the yoga of functorial semantics.
\end{proof}

\TODOinline{Note that there is a more limited analogue of the above, where we observe that the free X with an internal geminal Y is itself a geminal X, whenever Y extends X and X extends the notion of a lexcategory. The difficulty with turning this into an introspective theory is that the property we really depend on from the free lexcategory $L$ with an internal gadget of some sort is not just the 1-categorical property that it has a unique homomorphism to every other gadget, but the 2-categorical property that the category of homomorphisms from it to another lexcategory and natural transformations between those is equivalent to the 1-category of internal gadgets within that codomain lexcategory. This is true for lexcategories, but not necessarily for other doctrines, and I believe this is related to how $\Hom(1, -)$ is always a lexfunctor (thus turning internal models into genuine models,) but not always an X-functor. The subtle role of this in the above proof should be highlighted.}

\TODOinline{Before the following theorem, write out the straightforward definition of introspective theory homomorphism, and updated to arbitrary gadgets}

\begin{definition}\TODOinline{Clean this up, maybe index under "homomorphism" rather than under "introspective theory homomorphism"}
Let $\langle T_1, C_1 \rangle$ and $\langle T_2, C_2 \rangle$ be introspective theories (not presumed inner-strict). Then an \defined{introspective theory homomorphism} between these is a lexfunctor $H : T_1 \to T_2$, such that for any one (and therefore for all) particular representation of $C_1$ as a lexcategory internal to $T_1$, we have that $H(C_1)$ is a representation of $C_2$ internal to $T_2$, and such that furthermore $\introF \circ H = H \circ \introF$ in an appropriate sense.

\[\begin{tikzcd}
	{T_1} && {T_2} \\
	\\
	{C_1} && {C_2}
	\arrow["{\introF_1}", from=1-1, to=3-1]
	\arrow["H"', from=1-1, to=1-3]
	\arrow["{\introF_2}"', from=1-3, to=3-3]
	\arrow["{H_C}", from=3-1, to=3-3]
\end{tikzcd}\]

This last condition is equivalent to saying that $\introS \circ H = H \circ \introS$ in an appropriate sense along with the condition that $\introN$ whiskered along $H$ on either side is equal to $\introN$ whiskered along $H$ on the other side, so to speak. \TODOinline{Clarify all this, draw a diagram}

When dealing with inner-strict introspective theories, we furthermore ask of the relevant notion of homomorphism that $H(C_1) = C_2$ on-the-nose for the chosen representations.

\TODOinline{Generalize all this to introspective X theories. Does it make sense to talk about this for pre-introspective theories? We don't have the internality of $C$ for $H$ to act directly on $C$, so perhaps not, and yet it seems like there should perhaps be some relevant notion, perhaps by asking for extra mapping structure beyond just what is given by $H$. We probably don't need this for anything, but see if it would be useful.}
\end{definition}

\begin{theorem}
The introspective theory from \cref{GLCatTheoryIsIntrosp} is the free introspective theory with an internal gadget whose underlying lexcategory is $C$, in the sense that there is a unique (up to natural isomorphism) introspective theory homomorphism from this to any other introspective theory $\langle T, D \rangle$ with an internal gadget $K$ whose underlying lexcategory is $D$.
\end{theorem}
\begin{proof}
Let $\langle T, D \rangle$ be as specified. By \cref{IntrospContainsGL} and the freeness of $\GLCatTheory$, we get a unique (up to natural isomorphism) lexfunctor $H$ from $\GLCatTheory$ to $T$ taking the internal gadget $G$ in $\GLCatTheory$ to the internal gadget $K$ in $T$. To show that this $H$ is an introspective theory homomorphism, we must show that it moreover preserves the structure of $\introS$ and $\introN$. For preserving the structure of $\introN$, recall that $\introN$ on $\GLCatTheory$ was defined as the action of $\introN_{G}$ on $G$, and $H$ (by virtue of inducing a homomorphism between global aspects of internal geminal gadgets) must take this action to the action of $\introN_{K}$ on $K$, which defines the action of $\introN$ on $T$. Thus, $H$ preserves the structure of $\introN$, as a map between these introspective theories. For preserving the structure of $\introS$, recall that $\introS$ on $\GLCatTheory$ was defined as the passage from $G$ to its internal gadget $G'$ within $\GLCatTheory$, and $H$ (again, by virtue of inducing a homomorphism between global aspects of internal geminal gadgets) must take this action to the passage from $K$ to its internal gadget $K'$ within $T$, which defines the action of $\introS$ within $T$.
\end{proof}
\begin{corollary}
The initial introspective theory is the theory of geminal strict lexcategories; i.e., the theory of geminal categories.
\end{corollary}
\TODOinline{For the above, we should note how every introspective theory is equivalent to an inner-strict introspective theory and what the significance of our particular choice of formalization of strict lexcategories as opposed to other ones is for this result.}

\TODOinline{Before the following, write out the definition of a strict (not merely inner-strict) introspective theory and observe how every introspective theory can be refined further from an inner-strict introspective theory into a strict introspective theory.}

\begin{construction}
Every strict introspective theory $\langle T, D \rangle$ can itself be naturally equipped as a geminal category (i.e., geminal strict lexcategory) $\langle T, D, \introS, \introN_{D} \rangle$, where $\introN_{D}$ refers to the structure defining $\introN_{G}$ for the internal geminal category $D$ within $T$, as given by \cref{IntrospContainsGL}. Note that the geminal category we are describing here is such that the structure $D$ internal to the introspective theory is playing the role of the internal $C'$, not the role of the external $C$, when we construe this as a geminal category.

That this structure satisfies axioms 1, 1', and 2 of a geminal category is immediate. These are simply the sort of data of $T$, $D$, and $\introS$, respectively. Also, that this structure satisfies axioms 1', 2', and 3' is immediate, because these correspond to the internal geminal category $D$ within $T$ satisfying axioms 1, 2, and 3, respectively.

The only thing remaining to verify is axiom 3 of a geminal category, that $\introS \circ \introS = \introN_{D} \circ \introS$ in the appropriate sense. By \parensref{SMatchesN}, we have that $\introS \circ \introS = \introN \circ \introS$ in suitable sense. And $\introN_{D}$ was defined to match $\introN$. This completes the verification.
\end{construction}

Note that nothing we've done so far in this chapter really depends specifically on the nature of lex theories. The only key fact about lex theories is that the theory of (strict) lexcategories is itself given by a lexcategory, in a suitable sense. If lex theories, (strict) lexcategories, and (strict) lexfunctors were replaced throughout by some other notion of theory which had the analogous property, all the same results would hold (e.g., using theories with limits of cardinality up to some particular infinite cardinal). Our fixation on lex theories is because these are the weakest natural theory satisfying this property and in which one can speak about internal categories. It also turns out in practice that so many of the structures mathematicians are interested in are given by lex theories (in jargon, "essentially algebraic").

There are analogues of all the above results where we use finite product theories instead, and talk about enriched structures rather than internal structures. This can be made to work because finite product structure suffices to discuss enriched category structure and even enriched category-with-finite-product structure once the structure of the objects themselves has been fixed. We decline for now to formalize this, as it is a bit off the path of our main interest in introspective theories. \TODOinline{Formalize this, as free locally introspective theories (consider both the finite limit and finite product cases) unify this with the above, show how Kripke-4 categories are the enriched analogue of a geminal cartesian closed category. Note how a geminal lex cartesian closed category always gives rise to such an enriched-geminal cartesian closed category. Discuss the weaker notion of enriched-geminal categories which do not presume cartesian closed structure as well, and note how any geminal category gives rise to such an enriched-geminal category.}

\begin{TODOblock}
Write out how we can sort of re-extract from a geminal category $C$ some introspective theories which may have given rise to it, or something like the initial and terminal introspective theories which may have given rise to it, the latter meaning something like the category of morphisms m : X -> []X within $C$ such that []m = J: []X -> [][]X, and the former meaning either the theory of geminal categories itself or the free lex theory with an internal model of $C$. There's some profunctors/adjunctions between introspective theories and geminal categories to consider here.

Actually, I believe this is what we should look at: Consider a geminal category $\langle G, G'\rangle$ living internally to ambient lexcategory $S$.

Then we can make an introspective theory $T$ whose objects are quadruples $\langle s, g, a, b \rangle$ where $s$ is an object of $S$, $g$ is a globally defined object of $G$, $a : s \to \Hom_G(1, g)$ is a morphism of $S$, and $b$ is a global element of $\Hom_G(g, \Hom_G'(1, \introN_G g))$, such that the following diagram commutes:

% https://q.uiver.app/?q=WzAsNCxbMCwwLCJzIl0sWzAsMiwiXFxIb21fRygxLCBnKSJdLFsyLDAsIlxcSG9tX0coMSwgZykiXSxbMiwyLCJcXEhvbV9HKDEsIFxcSG9tX3tHJ30oMSwgXFxpbnRyb05fRyBnKSkiXSxbMCwxLCJhIiwyXSxbMCwyLCJhIl0sWzIsMywiYiBcXGNpcmMgLSJdLFsxLDMsIlxcaW50cm9OX0ciLDJdXQ==
\[\begin{tikzcd}
	s && {\Hom_G(1, g)} \\
	\\
	{\Hom_G(1, g)} && {\Hom_G(1, \Hom_{G'}(1, \introN_G g))}
	\arrow["a"', from=1-1, to=3-1]
	\arrow["a", from=1-1, to=1-3]
	\arrow["{b \circ -}", from=1-3, to=3-3]
	\arrow["{\introN_G}"', from=3-1, to=3-3]
\end{tikzcd}\].

This corresponds to the naturality square for $\introN$ as applied to itself. $a$ is meant to be a component of $\introN$, and $b$ is $\introS(a)$, with $g$ similarly as $\introS(s)$. So to speak.

A morphism between two such objects is a pair $\langle m : s_1 \to s_2 \in S, n : g_1 \to g_2 \in G$ such that the following commutes:

% https://q.uiver.app/?q=WzAsNCxbMCwwLCJzXzEiXSxbMCwyLCJcXEhvbV9HKDEsIGdfMSkiXSxbMiwwLCJzXzIiXSxbMiwyLCJcXEhvbV9HKDEsIGdfMikiXSxbMCwxLCJhXzEiXSxbMCwyLCJtIiwyXSxbMiwzLCJhXzIiLDJdLFsxLDMsIm4gXFxjaXJjIC0iXV0=
\[\begin{tikzcd}
	{s_1} && {s_2} \\
	\\
	{\Hom_G(1, g_1)} && {\Hom_G(1, g_2)}
	\arrow["{a_1}", from=1-1, to=3-1]
	\arrow["m"', from=1-1, to=1-3]
	\arrow["{a_2}"', from=1-3, to=3-3]
	\arrow["{n \circ -}", from=3-1, to=3-3]
\end{tikzcd}\]

And also, the following commutes (living within the global aspect of $G$): % https://q.uiver.app/?q=WzAsNCxbMCwwLCJnXzEiXSxbMCwyLCJcXEhvbV9HJygxLCBcXGludHJvTl9HIGdfMSkiXSxbMiwwLCJnXzIiXSxbMiwyLCJcXEhvbV9HJygxLCBcXGludHJvTl9HIGdfMikiXSxbMCwxLCJiXzEiXSxbMCwyLCJuIiwyXSxbMiwzLCJiXzIiLDJdLFsxLDMsIlxcaW50cm9OX0cobikgXFxjaXJjIC0iXV0=
\[\begin{tikzcd}
	{g_1} && {g_2} \\
	\\
	{\Hom_G'(1, \introN_G g_1)} && {\Hom_G'(1, \introN_G g_2)}
	\arrow["{b_1}", from=1-1, to=3-1]
	\arrow["n"', from=1-1, to=1-3]
	\arrow["{b_2}"', from=1-3, to=3-3]
	\arrow["{\introN_G(n) \circ -}", from=3-1, to=3-3]
\end{tikzcd}\]

Check that this really does yield a lexcategory. Limits are probably taken component-wise everywhere. Indeed, this appears to be some kind of iterated comma category.

That defines $T$. Within $T$, how do we define $C$? Well, for example, $\Ob(C)$ is the quadruple $\langle \Ob(G), \Ob(G'), \introN_G, \introN'_{G'} \rangle$ and so on for $\Mor(C)$ and everything else. This probably works out, write out the tedious details.

Now, how do we define $\introS$? Well, for its action on objects, for any quadruple $\langle s, g, a, b \rangle$, you can take it to $\langle g, \introN_G g, b, \introN_G b\rangle$; similarly, for its action on morphisms, for any pair $\langle m, n\rangle$, you can take it to $\langle n, \introN_G n \rangle$.

Finally, how do we define $\introN$? Well, for its component at $\langle s, g, a, b \rangle$, we define the morphism to be given by $\langle a, b \rangle$. Check that the naturality and everything works.

And how do we map this introspective theory into $S$ to re-yield our original geminal gadget? Send $\langle s, g, a, b \rangle$ to $s$, and send $\langle m, n \rangle$ to $m$.

For any other introspective theory $\langle T', C' \rangle$ giving rise to $G$ via lexfunctor $M$ into $S$, we obtain a lexfunctor from $T'$ to $T$ which sends object $t$ in $T'$ to $\langle M(t), M(\introS(t)), M(\introN_t), M(\introS(\introN_t))\rangle$ and sends morphism $m$ in $T'$ to $\langle M(m), M(\introS(m))\rangle$. This will act as an introspective theory homomorphism.
\end{TODOblock}

\begin{TODOblock}
Observe that geminal categories differ importantly from introspective theories because we do not have X |- []X for arbitrary objects in a geminal category, like we do in an introspective theory. Observe that we do have Loeb's theorem for representable presheaves in any geminal category, just from the fact that we have it as a claim about $C$ within any introspective theory, even for these objects which do not satisfy X |- []X. And similarly for certain functorial fixed points. (Write this intuition about how geminal categories differ from introspective theories most notably wrt to the X |- []X presumption into the introductory section.)

But a geminal category in itself does not give us the structure to talk about presheaves or functors of a sort not definable for, well, a generic geminal category, and so we do not get Loeb's theorem or fixed points for arbitrary presheaves or functors. (It is worth observing this specific failure with an example.)
\end{TODOblock}

\begin{TODOblock}
Write out that Geminal Ys are the same as Geminal (Geminal Y)s. More to the point, (geminal Ys)-extending-X, for a specific geminal Y structure called X, are the same as geminal (Geminal-Ys-extending-X).

Thus, every specific geminal structure (for one kind of gadget) is an initial geminal structure (for another kind of gadget).

One consequence of this is that every geminal structure indeed arises as the global aspect of some gadget-with-underlying-category C internal to some introspective theory (as it is easy, essentially tautological, to see that the free geminal gadget is the one which arises as the global sections of the introspective theory of geminal gadgets).
\end{TODOblock}

\TODOinline{Perhaps some kind of box notation for geminal categories will be useful?}

\begin{TODOblock}
Discuss \quote{super-introspective} theories: Introspective theories whose internal category is equipped not just as a geminal category but furthermore as an introspective theory, and satisfying the coherence axiom that for any X, when you internalize the map from X to []X, you get the internal introspective theory's map from (internalization of X) to [](internalization of X). Note that this is a kind of well-pointedness condition.

These are the same as geminal introspective theories such that the two underlying geminal category structures (from being a geminal X and from being an introspective theory) coincide.

An example is given by the first part of \cref{SigmaModelSimple}, before we extend the internal copy to be more than just $\Sigma_1$. When the internal copy is restricted to $\Sigma_1$ formulas, it is not merely geminal but furthermore canonically introspective, in a matching way with the outer introspective structure.
\end{TODOblock}

\TODOinline{Note that an introspective theory (T, C, ...) is not just a geminal category, but a geminal model of T.}

\TODOinline{Note that if the theory of gadgets if finitely presentable, then so is the theory of geminal gadgets}

\TODOinline{Note that the slice introspective theory construction gives us the free augmentation of an introspective theory with a global element of a particular object}

\subsection{Recap}
\TODO

\fileend